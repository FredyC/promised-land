!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.promisedLand=t()}}(function(){var t,e,n;return function r(t,e,n){function i(s,u){if(!e[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=e[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,r,t,e,n)}return e[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,n){(function(){var e,r,i,o,s,u,a,c,l,f,h,p,d,v,_,y,m,g,b,w,j,E,k,T,x,A,P,F,R,S,C,O,B,M,U,I,V,L,H,W,N,D,z,$,q,G,Q,Z,J,K,Y,X,te,ee,ne,re,ie,oe,se,ue,ae,ce,le,fe,he=[].slice,pe={}.hasOwnProperty,de=function(t,e){function n(){this.constructor=t}for(var r in e)pe.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},ve=function(t,e){return function(){return t.apply(e,arguments)}};e={toString:function(){return"Bacon"}},e.version="0.7.10",e.fromBinder=function(t,n){return null==n&&(n=le.id),new f(C(e,"fromBinder",t,n),function(r){var i;return i=t(function(){var t,o,s,u,a,c;for(t=1<=arguments.length?he.call(arguments,0):[],u=n.apply(null,t),L(u)&&le.last(u)instanceof l||(u=[u]),s=e.more,a=0,c=u.length;c>a;a++)if(o=u[a],s=r(o=re(o)),s===e.noMore||o.isEnd())return null!=i?i():e.scheduler.setTimeout(function(){return i()},0),s;return s})})},e.$={asEventStream:function(t,n,r){var i;return W(n)&&(i=[n,null],r=i[0],n=i[1]),ae(this.selector||this,"asEventStream",t,e.fromBinder(function(e){return function(r){return e.on(t,n,r),function(){return e.off(t,n,r)}}}(this),r))}},null!=(fe="undefined"!=typeof jQuery&&null!==jQuery?jQuery:"undefined"!=typeof Zepto&&null!==Zepto?Zepto:null)&&(fe.fn.asEventStream=e.$.asEventStream),e.fromEventTarget=function(t,n,r){var i,o,s,u,a,c;return i=null!=(s=t.addEventListener)?s:null!=(u=t.addListener)?u:t.bind,o=null!=(a=t.removeEventListener)?a:null!=(c=t.removeListener)?c:t.unbind,ae(e,"fromEventTarget",t,n,e.fromBinder(function(e){return i.call(t,n,e),function(){return o.call(t,n,e)}},r))},e.fromPromise=function(t,n){return ae(e,"fromPromise",t,e.fromBinder(function(e){return t.then(e,function(t){return e(new c(t))}),function(){return n&&"function"==typeof t.abort?t.abort():void 0}},function(t){return[t,O()]}))},e.noMore=["<no-more>"],e.more=["<more>"],e.later=function(t,n){return ae(e,"later",t,n,e.sequentially(t,[n]))},e.sequentially=function(t,n){var r;return r=0,ae(e,"sequentially",t,n,e.fromPoll(t,function(){var t;return t=n[r++],r<n.length?t:r===n.length?[t,O()]:O()}))},e.repeatedly=function(t,n){var r;return r=0,ae(e,"repeatedly",t,n,e.fromPoll(t,function(){return n[r++%n.length]}))},e.spy=function(t){return ee.push(t)},ee=[],te=function(t){var e,n,r,i;if(ee.length&&!te.running)try{for(te.running=!0,i=[],n=0,r=ee.length;r>n;n++)e=ee[n],i.push(e(t));return i}finally{delete te.running}},ce=function(t){return function(){var e,n,r,i;return r=arguments[0],e=2<=arguments.length?he.call(arguments,1):[],"object"==typeof r&&e.length&&(n=r,i=e[0],r=function(){return n[i].apply(n,arguments)},e=e.slice(1)),t.apply(null,[r].concat(he.call(e)))}},z=function(t,n){return ce(function(){var r,i,o;return i=arguments[0],r=2<=arguments.length?he.call(arguments,1):[],o=Y(n,[function(t,e){return i.apply(null,he.call(t).concat([e]))}]),ae.apply(null,[e,t,i].concat(he.call(r),[e.combineAsArray(r).flatMap(o)]))})},e.fromCallback=z("fromCallback",function(){var t,n;return n=arguments[0],t=2<=arguments.length?he.call(arguments,1):[],e.fromBinder(function(e){return $(n,t)(e),K},function(t){return[t,O()]})}),e.fromNodeCallback=z("fromNodeCallback",function(){var t,n;return n=arguments[0],t=2<=arguments.length?he.call(arguments,1):[],e.fromBinder(function(e){return $(n,t)(e),K},function(t,e){return t?[new c(t),O()]:[e,O()]})}),e.fromPoll=function(t,n){return ae(e,"fromPoll",t,n,e.fromBinder(function(n){var r;return r=e.scheduler.setInterval(n,t),function(){return e.scheduler.clearInterval(r)}},n))},e.interval=function(t,n){return null==n&&(n={}),ae(e,"interval",t,n,e.fromPoll(t,function(){return J(n)}))},e.constant=function(t){return new _(C(e,"constant",t),function(e){return e(V(t)),e(O()),K})},e.never=function(){return ae(e,"never",e.fromArray([]))},e.once=function(t){return ae(e,"once",t,e.fromArray([t]))},e.fromArray=function(t){return E(t),t=P(t),new f(C(e,"fromArray",t),function(n){var r,i;return i=!1,r=function(){var o,s;return le.empty(t)?n(O()):(s=t.splice(0,1)[0],o=n(re(s)),o===e.noMore||i?void 0:r())},r(),function(){return i=!0}})},e.mergeAll=function(){var t;return t=1<=arguments.length?he.call(arguments,0):[],L(t[0])&&(t=t[0]),ae.apply(null,[e,"mergeAll"].concat(he.call(t),[le.fold(t,e.never(),function(t,e){return t.merge(e)})]))},e.zipAsArray=function(){var t;return t=1<=arguments.length?he.call(arguments,0):[],L(t[0])&&(t=t[0]),ae.apply(null,[e,"zipAsArray"].concat(he.call(t),[e.zipWith(t,function(){var t;return t=1<=arguments.length?he.call(arguments,0):[]})]))},e.zipWith=function(){var t,n,r;return t=arguments[0],n=2<=arguments.length?he.call(arguments,1):[],W(t)||(r=[t,n[0]],n=r[0],t=r[1]),n=le.map(function(t){return t.toEventStream()},n),ae.apply(null,[e,"zipWith",t].concat(he.call(n),[e.when(n,t)]))},e.groupSimultaneous=function(){var t,n,i;return i=1<=arguments.length?he.call(arguments,0):[],1===i.length&&L(i[0])&&(i=i[0]),n=function(){var e,n,o;for(o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(new r(t));return o}(),ae.apply(null,[e,"groupSimultaneous"].concat(he.call(i),[e.when(n,function(){var t;return t=1<=arguments.length?he.call(arguments,0):[]})]))},e.combineAsArray=function(){var t,n,r,i,o,s,u;for(o=1<=arguments.length?he.call(arguments,0):[],1===o.length&&L(o[0])&&(o=o[0]),t=s=0,u=o.length;u>s;t=++s)i=o[t],N(i)||(o[t]=e.constant(i));return o.length?(r=function(){var t,e,r;for(r=[],t=0,e=o.length;e>t;t++)n=o[t],r.push(new g(n,!0,!1,n.subscribeInternal));return r}(),ae.apply(null,[e,"combineAsArray"].concat(he.call(o),[e.when(r,function(){var t;return t=1<=arguments.length?he.call(arguments,0):[]}).toProperty()]))):e.constant([])},e.onValues=function(){var t,n,r;return n=2<=arguments.length?he.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],e.combineAsArray(n).onValues(t)},e.combineWith=function(){var t,n;return t=arguments[0],n=2<=arguments.length?he.call(arguments,1):[],ae.apply(null,[e,"combineWith",t].concat(he.call(n),[e.combineAsArray(n).map(function(e){return t.apply(null,e)})]))},e.combineTemplate=function(t){var n,r,i,o,s,u,a,c,l,f;return a=[],f=[],u=function(t){return t[t.length-1]},l=function(t,e,n){return u(t)[e]=n},n=function(t,e){return function(n,r){return l(n,t,r[e])}},s=function(t,e){return function(n){return l(n,t,e)}},c=function(t){return L(t)?[]:{}},i=function(t,e){var r,i;return N(e)?(f.push(e),a.push(n(t,f.length-1))):e!==Object(e)||"function"==typeof e||e instanceof RegExp||e instanceof Date?a.push(s(t,e)):(i=function(t){return function(n){var r;return r=c(e),l(n,t,r),n.push(r)}},r=function(t){return t.pop()},a.push(i(t)),o(e),a.push(r))},o=function(t){return le.each(t,i)},o(t),r=function(e){var n,r,i,o,s;for(i=c(t),n=[i],o=0,s=a.length;s>o;o++)(r=a[o])(n,e);return i},ae(e,"combineTemplate",t,e.combineAsArray(f).map(r))},B=0,l=function(){function t(){this.id=++B}return t.prototype.isEvent=function(){return!0},t.prototype.isEnd=function(){return!1},t.prototype.isInitial=function(){return!1},t.prototype.isNext=function(){return!1},t.prototype.isError=function(){return!1},t.prototype.hasValue=function(){return!1},t.prototype.filter=function(){return!0},t.prototype.inspect=function(){return this.toString()},t.prototype.log=function(){return this.toString()},t}(),p=function(t){function e(t){e.__super__.constructor.call(this),this.value=W(t)?le.cached(t):le.always(t)}return de(e,t),e.prototype.isNext=function(){return!0},e.prototype.hasValue=function(){return!0},e.prototype.fmap=function(t){return this.apply(function(e){return function(){return t(e.value())}}(this))},e.prototype.apply=function(t){return new e(t)},e.prototype.filter=function(t){return t(this.value())},e.prototype.toString=function(){return le.toString(this.value())},e.prototype.log=function(){return this.value()},e}(l),h=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return de(e,t),e.prototype.isInitial=function(){return!0},e.prototype.isNext=function(){return!1},e.prototype.apply=function(t){return new e(t)},e.prototype.toNext=function(){return new p(this.value)},e}(p),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return de(e,t),e.prototype.isEnd=function(){return!0},e.prototype.fmap=function(){return this},e.prototype.apply=function(){return this},e.prototype.toString=function(){return"<end>"},e}(l),c=function(t){function e(t){this.error=t}return de(e,t),e.prototype.isError=function(){return!0},e.prototype.fmap=function(){return this},e.prototype.apply=function(){return this},e.prototype.toString=function(){return"<error> "+le.toString(this.error)},e}(l),I=0,v=function(){function t(t){this.combine=ve(this.combine,this),this.flatMapLatest=ve(this.flatMapLatest,this),this.fold=ve(this.fold,this),this.scan=ve(this.scan,this),this.id=++I,this.assign=this.onValue,ae(t,this)}return t.prototype.onValue=function(){var t;return t=q(arguments),this.subscribe(function(e){return e.hasValue()?t(e.value()):void 0})},t.prototype.onValues=function(t){return this.onValue(function(e){return t.apply(null,e)})},t.prototype.onError=function(){var t;return t=q(arguments),this.subscribe(function(e){return e.isError()?t(e.error):void 0})},t.prototype.onEnd=function(){var t;return t=q(arguments),this.subscribe(function(e){return e.isEnd()?t():void 0})},t.prototype.errors=function(){return ae(this,"errors",this.filter(function(){return!1}))},t.prototype.filter=function(){var t,n;return n=arguments[0],t=2<=arguments.length?he.call(arguments,1):[],S(this,n,t,function(t){return ae(this,"filter",t,this.withHandler(function(n){return n.filter(t)?this.push(n):e.more}))})},t.prototype.takeWhile=function(){var t,n;return n=arguments[0],t=2<=arguments.length?he.call(arguments,1):[],S(this,n,t,function(t){return ae(this,"takeWhile",t,this.withHandler(function(n){return n.filter(t)?this.push(n):(this.push(O()),e.noMore)}))})},t.prototype.endOnError=function(){var t,e;return e=arguments[0],t=2<=arguments.length?he.call(arguments,1):[],null==e&&(e=!0),S(this,e,t,function(t){return ae(this,"endOnError",this.withHandler(function(e){return e.isError()&&t(e.error)?(this.push(e),this.push(O())):this.push(e)}))})},t.prototype.take=function(t){return 0>=t?e.never():ae(this,"take",t,this.withHandler(function(n){return n.hasValue()?(t--,t>0?this.push(n):(0===t&&this.push(n),this.push(O()),e.noMore)):this.push(n)}))},t.prototype.map=function(){var t,e;return e=arguments[0],t=2<=arguments.length?he.call(arguments,1):[],e instanceof _?e.sampledBy(this,U):S(this,e,t,function(t){return ae(this,"map",t,this.withHandler(function(e){return this.push(e.fmap(t))}))})},t.prototype.mapError=function(){var t;return t=q(arguments),ae(this,"mapError",t,this.withHandler(function(e){return this.push(e.isError()?J(t(e.error)):e)}))},t.prototype.mapEnd=function(){var t;return t=q(arguments),ae(this,"mapEnd",t,this.withHandler(function(n){return n.isEnd()?(this.push(J(t(n))),this.push(O()),e.noMore):this.push(n)}))},t.prototype.doAction=function(){var t;return t=q(arguments),ae(this,"doAction",t,this.withHandler(function(e){return e.hasValue()&&t(e.value()),this.push(e)}))},t.prototype.skip=function(t){return ae(this,"skip",t,this.withHandler(function(n){return n.hasValue()&&t>0?(t--,e.more):this.push(n)}))},t.prototype.skipDuplicates=function(t){return null==t&&(t=function(t,e){return t===e}),ae(this,"skipDuplicates",this.withStateMachine(d,function(e,n){return n.hasValue()?n.isInitial()||e===d||!t(e.get(),n.value())?[new m(n.value()),[n]]:[e,[]]:[e,[n]]}))},t.prototype.skipErrors=function(){return ae(this,"skipErrors",this.withHandler(function(t){return t.isError()?e.more:this.push(t)}))},t.prototype.withStateMachine=function(t,n){var r;return r=t,ae(this,"withStateMachine",t,n,this.withHandler(function(t){var i,o,s,u,a,c,l;for(i=n(r,t),o=i[0],u=i[1],r=o,a=e.more,c=0,l=u.length;l>c;c++)if(s=u[c],a=this.push(s),a===e.noMore)return a;return a}))},t.prototype.scan=function(t,n,r){var i,o,s,u,a;return o=ne(n),n=r?o:function(t,e){return o(t(),e())},i=se(t).map(function(t){return le.always(t)}),u=this,a=function(t){return function(r){var o,u,a,c;return o=!1,c=K,u=e.more,a=function(){return o?void 0:i.forEach(function(t){return o=!0,u=r(new h(t)),u===e.noMore?(c(),c=K):void 0})},c=t.subscribeInternal(function(t){var s,c;return t.hasValue()?o&&t.isInitial()?e.more:(t.isInitial()||a(),o=!0,c=i.getOrElse(function(){return void 0}),s=le.cached(function(){return n(c,t.value)}),i=new m(s),r(t.apply(s))):(t.isEnd()&&(u=a()),u!==e.noMore?r(t):void 0)}),b.whenDoneWith(s,a),c}}(this),s=new _(C(this,"scan",t,n),a)},t.prototype.fold=function(t,e){return ae(this,"fold",t,e,this.scan(t,e).sampledBy(this.filter(!1).mapEnd().toProperty()))},t.prototype.zip=function(t,n){return null==n&&(n=Array),ae(this,"zip",t,e.zipWith([this,t],n))},t.prototype.diff=function(t,e){return e=ne(e),ae(this,"diff",t,e,this.scan([t],function(t,n){return[n,e(t[0],n)]}).filter(function(t){return 2===t.length}).map(function(t){return t[1]}))},t.prototype.flatMap=function(){return M(this,Z(arguments))},t.prototype.flatMapFirst=function(){return M(this,Z(arguments),!0)},t.prototype.flatMapLatest=function(){var t,e;return t=Z(arguments),e=this.toEventStream(),ae(this,"flatMapLatest",t,e.flatMap(function(){return function(n){return Q(t(n)).takeUntil(e)}}(this)))},t.prototype.not=function(){return ae(this,"not",this.map(function(t){return!t}))},t.prototype.log=function(){var t;return t=1<=arguments.length?he.call(arguments,0):[],this.subscribe(function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log.apply(console,he.call(t).concat([e.log()])):void 0}),this},t.prototype.slidingWindow=function(t,e){return null==e&&(e=0),ae(this,"slidingWindow",t,e,this.scan([],function(e,n){return e.concat([n]).slice(-t)}).filter(function(t){return t.length>=e}))},t.prototype.combine=function(t,n){var r;return r=ne(n),ae(this,"combine",t,n,e.combineAsArray(this,t).map(function(t){return r(t[0],t[1])}))},t.prototype.decode=function(t){return ae(this,"decode",t,this.combine(e.combineTemplate(t),function(t,e){return e[t]}))},t.prototype.awaiting=function(t){return ae(this,"awaiting",t,e.groupSimultaneous(this,t).map(function(t){var e,n;return e=t[0],n=t[1],0===n.length}).toProperty(!1).skipDuplicates())},t.prototype.name=function(t){return this.toString=function(){return t},this},t.prototype.withDescription=function(){return C.apply(null,arguments).apply(this)},t}(),v.prototype.reduce=v.prototype.fold,M=function(t,n,r){return new f(C(t,"flatMap"+(r?"First":""),n),function(i){var s,u;return u=new o,s=function(t){return t(),u.empty()?i(O()):void 0},u.add(function(o,a){return t.subscribeInternal(function(t){var o;return t.isEnd()?s(a):t.isError()?i(t):r&&u.count()>1?e.more:u.unsubscribed?e.noMore:(o=Q(n(t.value())),u.add(function(t,n){return o.subscribeInternal(function(r){var o;return r.isEnd()?(s(n),e.noMore):(r instanceof h&&(r=r.toNext()),o=i(r),o===e.noMore&&t(),o)})}))})}),u.unsubscribe})},f=function(t){function n(t,e){this.takeUntil=ve(this.takeUntil,this),this.sampledBy=ve(this.sampledBy,this);var r;W(t)&&(e=t,t=[]),n.__super__.constructor.call(this,t),T(e),r=new u(e),this.subscribeInternal=r.subscribe,this.subscribe=b.wrappedSubscribe(this),this.hasSubscribers=r.hasSubscribers,te(this)}return de(n,t),n.prototype.delay=function(t){return ae(this,"delay",t,this.flatMap(function(n){return e.later(t,n)}))},n.prototype.debounce=function(t){return ae(this,"debounce",t,this.flatMapLatest(function(n){return e.later(t,n)}))},n.prototype.debounceImmediate=function(t){return ae(this,"debounceImmediate",t,this.flatMapFirst(function(n){return e.once(n).concat(e.later(t).filter(!1))}))},n.prototype.throttle=function(t){return ae(this,"throttle",t,this.bufferWithTime(t).map(function(t){return t[t.length-1]}))},n.prototype.bufferWithTime=function(t){return ae(this,"bufferWithTime",t,this.bufferWithTimeOrCount(t,Number.MAX_VALUE))},n.prototype.bufferWithCount=function(t){return ae(this,"bufferWithCount",t,this.bufferWithTimeOrCount(void 0,t))},n.prototype.bufferWithTimeOrCount=function(t,e){var n;return n=function(n){return n.values.length===e?n.flush():void 0!==t?n.schedule():void 0},ae(this,"bufferWithTimeOrCount",t,e,this.buffer(t,n,n))},n.prototype.buffer=function(t,n,r){var i,o,s;return null==n&&(n=function(){}),null==r&&(r=function(){}),i={scheduled:!1,end:null,values:[],flush:function(){var t;if(this.scheduled=!1,this.values.length>0){if(t=this.push(J(this.values)),this.values=[],null!=this.end)return this.push(this.end);if(t!==e.noMore)return r(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){return this.scheduled?void 0:(this.scheduled=!0,t(function(t){return function(){return t.flush()}}(this)))}},s=e.more,W(t)||(o=t,t=function(t){return e.scheduler.setTimeout(t,o)}),ae(this,"buffer",this.withHandler(function(t){return i.push=this.push,t.isError()?s=this.push(t):t.isEnd()?(i.end=t,i.scheduled||i.flush()):(i.values.push(t.value()),n(i)),s}))},n.prototype.merge=function(t){var r;return k(t),r=this,new n(C(r,"merge",t),function(n){var i,o;return i=0,o=function(t){return function(r){return t.subscribeInternal(function(t){var o;return t.isEnd()?(i++,2===i?n(O()):e.more):(o=n(t),o===e.noMore&&r(),o)})}},F(o(r),o(t))})},n.prototype.toProperty=function(t){return 0===arguments.length&&(t=d),ae(this,"toProperty",t,this.scan(t,D,!0))},n.prototype.toEventStream=function(){return this},n.prototype.sampledBy=function(t,e){return ae(this,"sampledBy",t,e,this.toProperty().sampledBy(t,e))},n.prototype.concat=function(t){var e;return e=this,new n(C(e,"concat",t),function(n){var r,i;return i=K,r=e.subscribeInternal(function(e){return e.isEnd()?i=t.subscribeInternal(n):n(e)}),function(){return r(),i()}})},n.prototype.takeUntil=function(t){var n;return n={},ae(this,"takeUntil",t,e.groupSimultaneous(this.mapEnd(n),t.skipErrors()).withHandler(function(r){var i,o,s,u,a,c;if(r.hasValue()){if(c=r.value(),i=c[0],t=c[1],t.length)return this.push(O());for(o=e.more,u=0,a=i.length;a>u;u++)s=i[u],o=this.push(s===n?O():J(s));return o}return this.push(r)}))},n.prototype.skipUntil=function(t){var e;return e=t.take(1).map(!0).toProperty(!1),ae(this,"skipUntil",t,this.filter(e))},n.prototype.skipWhile=function(){var t,n,r;return n=arguments[0],t=2<=arguments.length?he.call(arguments,1):[],r=!1,S(this,n,t,function(t){return ae(this,"skipWhile",t,this.withHandler(function(n){return!r&&n.hasValue()&&t(n.value())?e.more:(n.hasValue()&&(r=!0),this.push(n))}))})},n.prototype.startWith=function(t){return ae(this,"startWith",t,e.once(t).concat(this))},n.prototype.withHandler=function(t){var e;return e=new u(this.subscribeInternal,t),new n(C(this,"withHandler",t),e.subscribe)},n}(v),_=function(t){function n(t,r,i){this.toEventStream=ve(this.toEventStream,this),this.toProperty=ve(this.toProperty,this),this.changes=ve(this.changes,this),this.sample=ve(this.sample,this),W(t)&&(i=r,r=t,t=[]),n.__super__.constructor.call(this,t),T(r),this.subscribeInternal=i===!0?r:new y(this,r,i).subscribe,this.sampledBy=function(t){return function(r,i){var o,s,u,a,c;return null!=i?i=ne(i):(o=!0,i=function(t){return t()}),c=new g(t,!1,!1,t.subscribeInternal,o),u=new g(r,!0,!1,r.subscribeInternal,o),a=e.when([c,u],i),s=r instanceof n?a.toProperty():a,ae(t,"sampledBy",r,i,s)}}(this),this.subscribe=b.wrappedSubscribe(this),te(this)}return de(n,t),n.prototype.sample=function(t){return ae(this,"sample",t,this.sampledBy(e.interval(t,{})))},n.prototype.changes=function(){return new f(C(this,"changes"),function(t){return function(e){return t.subscribeInternal(function(t){return t.isInitial()?void 0:e(t)})}}(this))},n.prototype.withHandler=function(t){return new n(C(this,"withHandler",t),this.subscribeInternal,t)},n.prototype.toProperty=function(){return x(arguments),this},n.prototype.toEventStream=function(){return new f(C(this,"toEventStream"),function(t){return function(e){return t.subscribeInternal(function(t){return t.isInitial()&&(t=t.toNext()),e(t)})}}(this))},n.prototype.and=function(t){return ae(this,"and",t,this.combine(t,function(t,e){return t&&e}))},n.prototype.or=function(t){return ae(this,"or",t,this.combine(t,function(t,e){return t||e}))},n.prototype.delay=function(t){return this.delayChanges("delay",t,function(e){return e.delay(t)})},n.prototype.debounce=function(t){return this.delayChanges("debounce",t,function(e){return e.debounce(t)})},n.prototype.throttle=function(t){return this.delayChanges("throttle",t,function(e){return e.throttle(t)})},n.prototype.delayChanges=function(){var t,e,n;return t=2<=arguments.length?he.call(arguments,0,n=arguments.length-1):(n=0,[]),e=arguments[n++],ae.apply(null,[this].concat(he.call(t),[w(this,e(this.changes()))]))},n.prototype.takeUntil=function(t){var e;return e=this.changes().takeUntil(t),ae(this,"takeUntil",t,w(this,e))},n.prototype.startWith=function(t){return ae(this,"startWith",t,this.scan(t,function(t,e){return e}))},n}(v),S=function(t,e,n,r){var i;return e instanceof _?(i=e.sampledBy(t,function(t,e){return[t,e]}),r.apply(i,[function(t){var e,n;return e=t[0],n=t[1],e}]).map(function(t){var e,n;return e=t[0],n=t[1]})):(e=$(e,n),r.apply(t,[e]))},w=function(t,n){var r;return r=new f(C(t,"justInitValue"),function(n){var i,o;return o=null,i=t.subscribeInternal(function(t){return t.hasValue()&&(o=t),e.noMore}),b.whenDoneWith(r,function(){return null!=o&&n(o),n(O())}),i}),r.concat(n).toProperty()},u=function(){function t(t,n){var r,i,o,s,u,a,c,l,f,h;null==t&&(t=function(){return K}),l=[],a=null,u=!1,i=!1,this.hasSubscribers=function(){return l.length>0},o=null,f=K,c=function(t){return l=le.without(t,l)},h=null,r=function(){var t,e,n,r,i;if(null!=h){for(e=h,h=null,i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(t());return i}},s=function(t){var n,i,s,h,p,d;if(u)return a=(a||[]).concat([t]),e.more;if(t!==o){t.isError()&&(o=t),s=!1;try{for(u=!0,h=l,p=0,d=h.length;d>p;p++)i=h[p],n=i.sink(t),(n===e.noMore||t.isEnd())&&c(i);s=!0}finally{u=!1,s||(a=null)}for(s=!0;null!=a?a.length:void 0;)t=le.head(a),a=le.tail(a),this.push(t);return r(t),this.hasSubscribers()?e.more:(f(),e.noMore)}},this.push=function(t){return function(e){return b.inTransaction(e,t,s,[e])}}(this),null==n&&(n=function(t){return this.push(t)}),this.handleEvent=function(t){return function(e){return e.isEnd()&&(i=!0),n.apply(t,[e])}}(this),this.subscribe=function(e){return function(n){var r,o;return i?(n(O()),K):(T(n),r={sink:n},l=l.concat(r),1===l.length&&(o=t(e.handleEvent),f=function(){return o(),f=K}),T(f),function(){return c(r),e.hasSubscribers()?void 0:f()})}}(this)}return t}(),y=function(t){function n(t,r,i){var o,s,u,a;n.__super__.constructor.call(this,r,i),o=d,s=void 0,a=this.push,r=this.subscribe,u=!1,this.push=function(t){return function(e){return e.isEnd()&&(u=!0),e.hasValue()&&(o=new m(e),s=b.currentEventId()),a.apply(t,[e])}}(this),this.subscribe=function(n){return function(i){var a,c,l,f,h;return c=!1,f=e.more,l=function(){return f===e.noMore?K:u?(i(O()),K):r.apply(this,[i])},o.isDefined&&(n.hasSubscribers()||u)?(a=b.currentEventId(),h=s,!u&&h&&a&&a!==h?(b.whenDoneWith(t,function(){return s===h?i(V(o.get().value())):void 0}),l()):(b.inTransaction(void 0,n,function(){return f=i(V(o.get().value()))},[]),l())):l()}}(this)}return de(n,t),n}(u),i=function(t){function n(){var t,r,i,o,s,u,a,l;i=void 0,u=[],t=!1,r=function(){return function(t){return function(n){return n.isEnd()?(l(t),e.noMore):i(n)}}}(this),a=function(){var t,e,n,r;for(r=[],e=0,n=u.length;n>e;e++)t=u[e],r.push("function"==typeof t.unsub?t.unsub():void 0);return r},s=function(t){return t.unsub=t.input.subscribeInternal(r(t.input))},l=function(t){var e,n,r,i;for(e=r=0,i=u.length;i>r;e=++r)if(n=u[e],n.input===t)return"function"==typeof n.unsub&&n.unsub(),void u.splice(e,1)},o=function(){return function(t){var e,n,r,o;for(i=t,o=P(u),n=0,r=o.length;r>n;n++)e=o[n],s(e);return a}}(this),n.__super__.constructor.call(this,C(e,"Bus"),o),this.plug=function(){return function(e){var n;if(!t)return n={input:e},u.push(n),null!=i&&s(n),function(){return l(e)}}}(this),this.push=function(){return function(t){return"function"==typeof i?i(J(t)):void 0}}(this),this.error=function(){return function(t){return"function"==typeof i?i(new c(t)):void 0}}(this),this.end=function(){return function(){return t=!0,a(),"function"==typeof i?i(O()):void 0}}(this)}return de(n,t),n}(f),g=function(){function t(t,e,n,r,i,o){var s;this.obs=t,this.sync=e,this.subscribe=r,null==i&&(i=!1),null==o&&(o=[]),s=i?function(t){return function(){return t}}:le.id,null==this.subscribe&&(this.subscribe=t.subscribeInternal),this.markEnded=function(){return this.ended=!0},this.toString=this.obs.toString,n?(this.consume=function(){return s(o.shift())},this.push=function(t){return o.push(t)},this.mayHave=function(t){return!this.ended||o.length>=t},this.hasAtLeast=function(t){return o.length>=t},this.flatten=!1):(this.consume=function(){return s(o[0])},this.push=function(t){return o=[t]},this.mayHave=function(){return!0},this.hasAtLeast=function(){return o.length},this.flatten=!0)}return t}(),r=function(t){function e(t){var n;this.obs=t,n=[],e.__super__.constructor.call(this,this.obs,!0,!1,this.obs.subscribeInternal,!1,n),this.consume=function(){var t;return t=n,n=[],function(){return t}},this.push=function(t){return n.push(t())},this.hasAtLeast=function(){return!0}}return de(e,t),e}(g),g.fromObservable=function(t){return t instanceof g?t:t instanceof _?new g(t,!1,!1):new g(t,!0,!0)},C=function(){var t,e,n;return e=arguments[0],n=arguments[1],t=3<=arguments.length?he.call(arguments,2):[],(e||n)instanceof s?e||n:new s(e,n,t)},s=function(){function t(t,e,n){var r,i,o,s;o=function(t){return L(t)?le.flatMap(o,t):N(t)?[t]:t instanceof g?[t.obs]:[]},s=null,r=function(t){var e,n,i,o,u;for(n=t.internalDeps(),u=[],i=0,o=n.length;o>i;i++)e=n[i],s[e.id]=!0,u.push(r(e));return u},i=function(t){return null==s&&(s={},r(this)),s[t.id]},this.apply=function(r){var s;return s=le.cached(function(){return o([t].concat(n))}),r.internalDeps=r.internalDeps||s,r.dependsOn=i,r.deps=s,r.toString=function(){return le.toString(t)+"."+le.toString(e)+"("+le.map(le.toString,n)+")"},r.inspect=function(){return r.toString()},r.desc=function(){return{context:t,method:e,args:n}},r}}return t}(),ae=function(){var t,e,n;return t=2<=arguments.length?he.call(arguments,0,n=arguments.length-1):(n=0,[]),e=arguments[n++],C.apply(null,t).apply(e)},e.when=function(){var t,n,r,i,o,s,u,a,c,l,h,p,d,v,_,y,m,w,E;if(l=1<=arguments.length?he.call(arguments,0):[],0===l.length)return e.never();for(o=l.length,v="when: expecting arguments in the form (Observable+,function)+",j(v,o%2===0),d=[],c=[],n=0;o>n;){for(a=le.toArray(l[n]),t=l[n+1],u={f:W(t)?t:function(){return t},ixs:[]},_=0,m=a.length;m>_;_++){for(p=a[_],j(N(p),v),r=le.indexOf(d,p),0>r&&(d.push(p),r=d.length-1),E=u.ixs,y=0,w=E.length;w>y;y++)i=E[y],i.index===r&&i.count++;u.ixs.push({index:r,count:1})}a.length>0&&c.push(u),n+=2}return d.length?(d=le.map(g.fromObservable,d),s=le.any(d,function(t){return t.flatten})&&R(le.map(function(t){return t.obs},d)),h=new f(C.apply(null,[e,"when"].concat(he.call(l))),function(t){var r,i,o,u,a,l,f;return f=[],o=!1,u=function(t){var e,r,i;for(i=t.ixs,e=0,r=i.length;r>e;e++)if(n=i[e],!d[n.index].hasAtLeast(n.count))return!1;return!0},i=function(t){return!t.sync||t.ended},r=function(t){var e,r,i;for(i=t.ixs,e=0,r=i.length;r>e;e++)if(n=i[e],!d[n.index].mayHave(n.count))return!0},a=function(t){return!t.source.flatten},l=function(l){return function(p){var v,_,y;return _=function(){return b.whenDoneWith(h,v)},y=function(){var r,i,o,l,h,p;if(!(f.length>0))return e.more;for(o=e.more,l=f.pop(),h=0,p=c.length;p>h;h++)if(i=c[h],u(i))return r=function(){var t,e,r,o;for(r=i.ixs,o=[],t=0,e=r.length;e>t;t++)n=r[t],o.push(d[n.index].consume());return o}(),o=t(l.e.apply(function(){var t,e;return e=function(){var e,n,i;for(i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t());return i}(),i.f.apply(i,e)})),f.length&&s&&(f=le.filter(a,f)),o===e.noMore?o:y()},v=function(){var n;return n=y(),o&&(o=!1,(le.all(d,i)||le.all(c,r))&&(n=e.noMore,t(O()))),n===e.noMore&&p(),n},l.subscribe(function(n){var r;return n.isEnd()?(o=!0,l.markEnded(),_()):n.isError()?r=t(n):(l.push(n.value),l.sync&&(f.push({source:l,e:n}),s?_():v())),r===e.noMore&&p(),r||e.more})}},F.apply(null,function(){var t,e,n;for(n=[],t=0,e=d.length;e>t;t++)p=d[t],n.push(l(p));return n}())})):e.never()},R=function(t,n){var r;return null==n&&(n=[]),r=function(t){var i;return e._.contains(n,t)?!0:(i=t.internalDeps(),i.length?(n.push(t),e._.any(i,r)):(n.push(t),!1))},e._.any(t,r)},e.update=function(){var t,n,r,i;for(n=arguments[0],i=2<=arguments.length?he.call(arguments,1):[],r=function(t){return function(){var e;return e=1<=arguments.length?he.call(arguments,0):[],function(n){return t.apply(null,[n].concat(e))}}},t=i.length-1;t>0;)i[t]instanceof Function||(i[t]=function(t){return function(){return t}}(i[t])),i[t]=r(i[t]),t-=2;return ae.apply(null,[e,"update",n].concat(he.call(i),[e.when.apply(e,i).scan(n,function(t,e){return e(t)})]))},F=function(){var t;return t=1<=arguments.length?he.call(arguments,0):[],new o(t).unsubscribe},o=function(){function t(t){var e,n,r;for(null==t&&(t=[]),this.empty=ve(this.empty,this),this.count=ve(this.count,this),this.unsubscribe=ve(this.unsubscribe,this),this.add=ve(this.add,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[],n=0,r=t.length;r>n;n++)e=t[n],this.add(e)}return t.prototype.add=function(t){var e,n,r;if(!this.unsubscribed)return e=!1,n=K,this.starting.push(t),r=function(r){return function(){return r.unsubscribed?void 0:(e=!0,r.remove(n),le.remove(t,r.starting))}}(this),n=t(this.unsubscribe,r),this.unsubscribed||e||this.subscriptions.push(n),le.remove(t,this.starting),n},t.prototype.remove=function(t){return this.unsubscribed?void 0:void 0!==le.remove(t,this.subscriptions)?t():void 0},t.prototype.unsubscribe=function(){var t,e,n,r;if(!this.unsubscribed){for(this.unsubscribed=!0,r=this.subscriptions,e=0,n=r.length;n>e;e++)(t=r[e])();return this.subscriptions=[],this.starting=[]}},t.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},t.prototype.empty=function(){return 0===this.count()},t}(),e.CompositeUnsubscribe=o,m=function(){function t(t){this.value=t}return t.prototype.getOrElse=function(){return this.value},t.prototype.get=function(){return this.value},t.prototype.filter=function(e){return e(this.value)?new t(this.value):d},t.prototype.map=function(e){return new t(e(this.value))},t.prototype.forEach=function(t){return t(this.value)},t.prototype.isDefined=!0,t.prototype.toArray=function(){return[this.value]},t.prototype.inspect=function(){return"Some("+this.value+")"},t.prototype.toString=function(){return this.inspect()},t}(),d={getOrElse:function(t){return t},filter:function(){return d},map:function(){return d},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},b=function(){var t,n,r,i,o,s,u,a,c,l,f;return a=void 0,c=[],n=[],t=function(t){return a?n.push(t):t()},u=function(t){return!le.any(c,function(e){return t.obs.dependsOn(e.obs)})},l=function(t,e){return a?c.push({obs:t,f:e}):e()},i=function(){for(;!u(c[0]);)c.push(c.splice(0,1)[0]);return c.splice(0,1)[0]},o=function(){var t;for(t=[];c.length;)t.push(i().f());return t
},s=function(t,e,r,i){var s;if(a)return r.apply(e,i);a=t;try{s=r.apply(e,i),o()}finally{for(a=void 0;n.length;)(r=n.splice(0,1)[0])()}return s},r=function(){return a?a.id:void 0},f=function(n){return function(r){var i,o,s;return s=!1,i=function(){},o=function(){return s=!0,i()},s||(i=n.subscribeInternal(function(n){return t(function(){var t;return s||(t=r(n),t!==e.noMore)?void 0:o()})})),o}},{whenDoneWith:l,inTransaction:s,currentEventId:r,wrappedSubscribe:f}}(),e.EventStream=f,e.Property=_,e.Observable=v,e.Bus=i,e.Initial=h,e.Next=p,e.End=a,e.Error=c,K=function(){},D=function(t,e){return e()},U=function(t){return t},V=function(t){return new h(le.always(t))},J=function(t){return new p(le.always(t))},O=function(){return new a},re=function(t){return t instanceof l?t:J(t)},P=function(t){return t.slice(0)},j=function(t,e){if(!e)throw t},k=function(t){if(!(t instanceof f))throw"not an EventStream : "+t},T=function(t){return j("not a function : "+t,W(t))},W=function(t){return"function"==typeof t},L=function(t){return t instanceof Array},N=function(t){return t instanceof v},E=function(t){if(!L(t))throw"not an array : "+t},x=function(t){return j("no arguments supported",0===t.length)},A=function(t){if("string"!=typeof t)throw"not a string : "+t},Y=function(t,e){return function(){var n;return n=1<=arguments.length?he.call(arguments,0):[],t.apply(null,e.concat(n))}},Z=function(t){return 1===t.length&&N(t[0])?le.always(t[0]):q(t)},q=function(t){return t=Array.prototype.slice.call(t),G.apply(null,t)},G=ce(function(){var t,e;return e=arguments[0],t=2<=arguments.length?he.call(arguments,1):[],W(e)?t.length?Y(e,t):e:H(e)?ie(e,t):le.always(e)}),$=function(t,e){return G.apply(null,[t].concat(he.call(e)))},Q=function(t){return N(t)?t:e.once(t)},H=function(t){return"string"==typeof t&&t.length>1&&"."===t.charAt(0)},e.isFieldKey=H,ie=function(t,e){var n,r;return r=t.slice(1).split("."),n=le.map(ue(e),r),function(e){var r,i;for(r=0,i=n.length;i>r;r++)t=n[r],e=t(e);return e}},ue=function(t){return function(e){return function(n){var r;return null==n?void 0:(r=n[e],W(r)?r.apply(n,t):r)}}},oe=function(t){return t.slice(1)},ne=function(t){var e;return W(t)?t:H(t)?(e=oe(t),function(t,n){return t[e](n)}):j("not a function or a field key: "+t,!1)},se=function(t){return t instanceof m||t===d?t:new m(t)},le={indexOf:Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){var n,r,i,o;for(n=i=0,o=t.length;o>i;n=++i)if(r=t[n],e===r)return n;return-1},indexWhere:function(t,e){var n,r,i,o;for(n=i=0,o=t.length;o>i;n=++i)if(r=t[n],e(r))return n;return-1},head:function(t){return t[0]},always:function(t){return function(){return t}},negate:function(t){return function(e){return!t(e)}},empty:function(t){return 0===t.length},tail:function(t){return t.slice(1,t.length)},filter:function(t,e){var n,r,i,o;for(n=[],i=0,o=e.length;o>i;i++)r=e[i],t(r)&&n.push(r);return n},map:function(t,e){var n,r,i,o;for(o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(t(n));return o},each:function(t,e){var n,r,i;i=[];for(n in t)r=t[n],i.push(e(n,r));return i},toArray:function(t){return L(t)?t:[t]},contains:function(t,e){return-1!==le.indexOf(t,e)},id:function(t){return t},last:function(t){return t[t.length-1]},all:function(t,e){var n,r,i;for(null==e&&(e=le.id),r=0,i=t.length;i>r;r++)if(n=t[r],!e(n))return!1;return!0},any:function(t,e){var n,r,i;for(null==e&&(e=le.id),r=0,i=t.length;i>r;r++)if(n=t[r],e(n))return!0;return!1},without:function(t,e){return le.filter(function(e){return e!==t},e)},remove:function(t,e){var n;return n=le.indexOf(e,t),n>=0?e.splice(n,1):void 0},fold:function(t,e,n){var r,i,o;for(i=0,o=t.length;o>i;i++)r=t[i],e=n(e,r);return e},flatMap:function(t,e){return le.fold(e,[],function(e,n){return e.concat(t(n))})},cached:function(t){var e;return e=d,function(){return e===d&&(e=t(),t=null),e}},toString:function(t){var e,n,r,i;try{return X++,null==t?"undefined":W(t)?"function":L(t)?X>5?"[..]":"["+le.map(le.toString,t).toString()+"]":null!=(null!=t?t.toString:void 0)&&t.toString!==Object.prototype.toString?t.toString():"object"==typeof t?X>5?"{..}":(n=function(){var n;n=[];for(r in t)pe.call(t,r)&&(i=function(){try{return t[r]}catch(n){return e=n}}(),n.push(le.toString(r)+":"+le.toString(i)));return n}(),"{"+n+"}"):t}finally{X--}}},X=0,e._=le,e.scheduler={setTimeout:function(t,e){return setTimeout(t,e)},setInterval:function(t,e){return setInterval(t,e)},clearInterval:function(t){return clearInterval(t)},now:function(){return(new Date).getTime()}},"undefined"!=typeof t&&null!==t&&null!=t.amd?(t([],function(){return e}),this.Bacon=e):"undefined"!=typeof n&&null!==n?(n.exports=e,e.Bacon=e):this.Bacon=e}).call(this)},{}],2:[function(t,e){"use strict";e.exports=function(e,n,r){function i(t,e){var r=n(t,o,e===!0&&t._isBound()?t._boundTo:void 0),i=r.promise();return i.isRejected()?i:(r.setHowMany(1),r.setUnwrap(),r.init(),i)}var o=t("./some_promise_array.js")(r);e.any=function(t){return i(t,!1)},e.prototype.any=function(){return i(this,!0)}}},{"./some_promise_array.js":34}],3:[function(t,e){"use strict";function n(){this._isTickUsed=!1,this._length=0,this._lateBuffer=new i,this._functionBuffer=new i(75e3);var t=this;this.consumeFunctionBuffer=function(){t._consumeFunctionBuffer()}}var r=t("./schedule.js"),i=t("./queue.js"),o=t("./util.js").errorObj,s=t("./util.js").tryCatch1,u=t("./global.js").process;n.prototype.haveItemsQueued=function(){return this._length>0},n.prototype.invokeLater=function(t,e,n){void 0===u||null==u.domain||t.domain||(t=u.domain.bind(t)),this._lateBuffer.push(t,e,n),this._queueTick()},n.prototype.invoke=function(t,e,n){void 0===u||null==u.domain||t.domain||(t=u.domain.bind(t));var r=this._functionBuffer;r.push(t,e,n),this._length=r.length(),this._queueTick()},n.prototype._consumeFunctionBuffer=function(){for(var t=this._functionBuffer;t.length()>0;){var e=t.shift(),n=t.shift(),r=t.shift();e.call(n,r)}this._reset(),this._consumeLateBuffer()},n.prototype._consumeLateBuffer=function(){for(var t=this._lateBuffer;t.length()>0;){var e=t.shift(),n=t.shift(),r=t.shift(),i=s(e,n,r);if(i===o){if(this._queueTick(),null==e.domain)throw i.e;e.domain.emit("error",i.e)}}},n.prototype._queueTick=function(){this._isTickUsed||(r(this.consumeFunctionBuffer),this._isTickUsed=!0)},n.prototype._reset=function(){this._isTickUsed=!1,this._length=0},e.exports=new n},{"./global.js":16,"./queue.js":27,"./schedule.js":30,"./util.js":38}],4:[function(t,e){"use strict";var n=t("./promise.js")();e.exports=n},{"./promise.js":20}],5:[function(t,e){"use strict";e.exports=function(t){function e(t){var e="string"==typeof this?this:""+this;return t[e]}t.prototype.call=function(t){for(var e=arguments.length,n=new Array(e-1),r=1;e>r;++r)n[r-1]=arguments[r];return this._then(function(e){return e[t].apply(e,n)},void 0,void 0,void 0,void 0)},t.prototype.get=function(t){return this._then(e,void 0,void 0,t,void 0)}}},{}],6:[function(t,e){"use strict";e.exports=function(e,n){var r=t("./errors.js"),i=t("./async.js"),o=r.CancellationError;e.prototype._cancel=function(){if(!this.isCancellable())return this;for(var t,e=this;void 0!==(t=e._cancellationParent)&&t.isCancellable();)e=t;var n=new o;e._attachExtraTrace(n),e._rejectUnchecked(n)},e.prototype.cancel=function(){return this.isCancellable()?(i.invokeLater(this._cancel,this,void 0),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=new e(n);return t._setTrace(this),t._follow(this),t._unsetCancellable(),this._isBound()&&t._setBoundTo(this._boundTo),t},e.prototype.fork=function(t,e,n){var r=this._then(t,e,n,void 0,void 0);return r._setCancellable(),r._cancellationParent=void 0,r}}},{"./async.js":3,"./errors.js":10}],7:[function(t,e){"use strict";e.exports=function(){function e(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t.toString();var r=/\[object [a-zA-Z0-9$_]+\]/;if(r.test(e))try{var i=JSON.stringify(t);e=i}catch(o){}0===e.length&&(e="(empty array)")}return"(<"+n(e)+">, no stack trace)"}function n(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function r(t,e){this.captureStackTrace(r,e)}var i=t("./util.js").inherits,o=t("./es5.js").defineProperty,s=new RegExp("\\b(?:[a-zA-Z0-9.]+\\$_\\w+|tryCatch(?:1|2|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),u=null,a=null;i(r,Error),r.prototype.captureStackTrace=function(t,e){c(this,t,e)},r.possiblyUnhandledRejection=function(t){if("object"==typeof console){var e;if("object"==typeof t||"function"==typeof t){var n=t.stack;e="Possibly unhandled "+a(n,t)}else e="Possibly unhandled "+String(t);"function"==typeof console.error||"object"==typeof console.error?console.error(e):("function"==typeof console.log||"object"==typeof console.log)&&console.log(e)}},r.combine=function(t,e){for(var n=t.length-1,r=e.length-1;r>=0;--r){var i=e[r];if(t[n]!==i)break;t.pop(),n--}t.push("From previous event:");for(var o=t.concat(e),a=[],r=0,c=o.length;c>r;++r)s.test(o[r])||r>0&&!u.test(o[r])&&"From previous event:"!==o[r]||a.push(o[r]);return a},r.isSupported=function(){return"function"==typeof c};var c=function l(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){u=/^\s*at\s*/,a=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.name+". "+n.message:e(n)};var t=Error.captureStackTrace;return function(e,n){t(e,n)}}var n=new Error;if("string"==typeof n.stack&&"function"==typeof"".startsWith&&n.stack.startsWith("stackDetection@")&&"stackDetection"===l.name){o(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),u=/@/;var r=/[@\n]/;return a=function(t,n){return"string"==typeof t?n.name+". "+n.message+"\n"+t:void 0!==n.name&&void 0!==n.message?n.name+". "+n.message:e(n)},function(t){for(var e=(new Error).stack,n=e.split(r),i=n.length,o="",s=0;i>s;s+=2)o+=n[s],o+="@",o+=n[s+1],o+="\n";t.stack=o}}return a=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?e(n):n.name+". "+n.message},null}();return r}},{"./es5.js":12,"./util.js":38}],8:[function(t,e){"use strict";e.exports=function(e){function n(t,e,n){this._instances=t,this._callback=e,this._promise=n}function r(t,e){var n={},r=s(t,n,e);if(r===u)return r;var i=a(n);return i.length?(u.e=new c("Catch filter must inherit from Error or be a simple predicate function"),u):r}var i=t("./util.js"),o=t("./errors.js"),s=i.tryCatch1,u=i.errorObj,a=t("./es5.js").keys,c=o.TypeError;return n.prototype.doFilter=function(t){for(var n=this._callback,i=this._promise,a=i._isBound()?i._boundTo:void 0,c=0,l=this._instances.length;l>c;++c){var f=this._instances[c],h=f===Error||null!=f&&f.prototype instanceof Error;if(h&&t instanceof f){var p=s(n,a,t);return p===u?(e.e=p.e,e):p}if("function"==typeof f&&!h){var d=r(f,t);if(d===u){var v=o.canAttach(u.e)?u.e:new Error(u.e+"");this._promise._attachExtraTrace(v),t=u.e;break}if(d){var p=s(n,a,t);return p===u?(e.e=p.e,e):p}}}return e.e=t,e},n}},{"./errors.js":10,"./es5.js":12,"./util.js":38}],9:[function(t,e){"use strict";var n=t("./util.js"),r=n.isPrimitive,i=n.wrapsPrimitiveReceiver;e.exports=function(t){var e=function(){return this},n=function(){throw this},o=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype["return"]=t.prototype.thenReturn=function(t){return i&&r(t)?this._then(o(t,2),void 0,void 0,void 0,void 0):this._then(e,void 0,void 0,t,void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return i&&r(t)?this._then(o(t,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,t,void 0)}}},{"./util.js":38}],10:[function(t,e){"use strict";function n(t){try{h(t,"isAsync",!0)}catch(e){}}function r(t){return null==t?!1:t instanceof u||t.isAsync===!0}function i(t){return t instanceof p}function o(t){return i(t)}function s(t,e){function n(r){return this instanceof n?(this.message="string"==typeof r?r:e,this.name=t,void(p.captureStackTrace&&p.captureStackTrace(this,this.constructor))):new n(r)}return f(n,p),n}function u(t){this.name="RejectionError",this.message=t,this.cause=t,this.isAsync=!0,t instanceof p?(this.message=t.message,this.stack=t.stack):p.captureStackTrace&&p.captureStackTrace(this,this.constructor)}var a=t("./global.js"),c=t("./es5.js").freeze,l=t("./util.js"),f=l.inherits,h=l.notEnumerableProp,p=a.Error,d=a.TypeError;"function"!=typeof d&&(d=s("TypeError","type error"));var v=a.RangeError;"function"!=typeof v&&(v=s("RangeError","range error"));var _=s("CancellationError","cancellation error"),y=s("TimeoutError","timeout error");f(u,p);var m="__BluebirdErrorTypes__",g=a[m];g||(g=c({CancellationError:_,TimeoutError:y,RejectionError:u}),h(a,m,g)),e.exports={Error:p,TypeError:d,RangeError:v,CancellationError:g.CancellationError,RejectionError:g.RejectionError,TimeoutError:g.TimeoutError,originatesFromRejection:r,markAsOriginatingFromRejection:n,canAttach:o}},{"./es5.js":12,"./global.js":16,"./util.js":38}],11:[function(t,e){"use strict";e.exports=function(e){function n(t){var n=new r(t),i=e.rejected(n),o=i._peekContext();return null!=o&&o._attachExtraTrace(n),i}var r=t("./errors.js").TypeError;return n}},{"./errors.js":10}],12:[function(t,e){function n(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}function r(t,e,n){return t[e]=n.value,t}function i(t){return t}function o(t){try{return Object(t).constructor.prototype}catch(e){return l}}function s(t){try{return"[object Array]"===c.call(t)}catch(e){return!1}}var u=function(){"use strict";return void 0===this}();if(u)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:u};else{var a={}.hasOwnProperty,c={}.toString,l={}.constructor.prototype;e.exports={isArray:s,keys:n,defineProperty:r,freeze:i,getPrototypeOf:o,isES5:u}}},{}],13:[function(t,e){"use strict";e.exports=function(e){function n(t){for(var n=this instanceof e?this._settledValue:this,r=n.length,i=new Array(r),o=0,s=0;r>s;++s)t[s]&&(i[o++]=n[s]);return i.length=o,i}var r=(t("./util.js").isArray,{ref:null});e.filter=function(t,i){return e.map(t,i,r)._then(n,void 0,void 0,r.ref,void 0)},e.prototype.filter=function(t){return this.map(t,r)._then(n,void 0,void 0,r.ref,void 0)}}},{"./util.js":38}],14:[function(t,e){"use strict";e.exports=function(e,n){function r(){return this}function i(){throw this}function o(t){return function(){return t}}function s(t){return function(){throw t}}function u(t,e,n){var u;return u=f&&h(e)?n?o(e):s(e):n?r:i,t._then(u,p,void 0,e,void 0)}function a(t){var r=this.promise,i=this.handler,o=r._isBound()?i.call(r._boundTo):i();if(void 0!==o){var s=e._cast(o,void 0);if(s instanceof e)return u(s,t,r.isFulfilled())}return r.isRejected()?(n.e=t,n):t}function c(t){var n=this.promise,r=this.handler,i=n._isBound()?r.call(n._boundTo,t):r(t);if(void 0!==i){var o=e._cast(i,void 0);if(o instanceof e)return u(o,t,!0)}return t}var l=t("./util.js"),f=l.wrapsPrimitiveReceiver,h=l.isPrimitive,p=l.thrower;e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var n={promise:this,handler:t};return this._then(e?a:c,e?a:void 0,void 0,n,void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":38}],15:[function(t,e){"use strict";e.exports=function(e,n,r){var i=t("./promise_spawn.js")(e,r),o=t("./errors.js"),s=o.TypeError,u=t("./util.js").deprecated;e.coroutine=function(t){if("function"!=typeof t)throw new s("generatorFunction must be a function");var e=i;return function(){var n=t.apply(this,arguments),r=new e(void 0,void 0);return r._generator=n,r._next(void 0),r.promise()}},e.coroutine.addYieldHandler=i.addYieldHandler,e.spawn=function(t){if(u("Promise.spawn is deprecated. Use Promise.coroutine instead."),"function"!=typeof t)return n("generatorFunction must be a function");var r=new i(t,this),o=r.promise();return r._run(e.spawn),o}}},{"./errors.js":10,"./promise_spawn.js":23,"./util.js":38}],16:[function(t,e){(function(t){e.exports=function(){if(void 0!==this)return this;try{return t}catch(e){}try{return window}catch(e){}try{return self}catch(e){}}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t){return s(t,this[0],this[1],this[2])}function s(t,n,s,a){if("function"!=typeof n)return i("fn must be a function");var c=void 0;s===!0?t._isBound()&&(c=t._boundTo):s!==!1&&(c=s);var l=void 0!==a;if(l&&(a.ref=t),t instanceof e){var h=[n,c,a];return t._then(o,void 0,void 0,h,void 0)}if(!f(t))return i("expecting an array, a promise or a thenable");var p=new e(r);void 0!==c&&p._setBoundTo(c),p._setTrace(void 0);var d=new u(p,n,t,c,l);return d.init(),p}function u(t,e,n,r,i){this.shouldUnwrapItems=i,this.index=0,this.items=n,this.callback=e,this.receiver=r,this.promise=t,this.result=new Array(n.length)}var a=e.all,c=t("./util.js"),l=t("./errors.js").canAttach,f=c.isArray,h=e._cast,p={};c.inherits(u,n),u.prototype.init=function(){for(var t=this.items,n=t.length,r=this.result,i=!1,o=0;n>o;++o){var s=h(t[o],void 0);s instanceof e?s.isPending()?(r[o]=p,s._proxyPromiseArray(this,o)):s.isFulfilled()?r[o]=s.value():(s._unsetRejectionIsUnhandled(),i||(this.reject(s.reason()),i=!0)):r[o]=s}i||this.iterate()},u.prototype.isResolved=function(){return null===this.promise},u.prototype._promiseProgressed=function(t){this.isResolved()||this.promise._progress(t)},u.prototype._promiseFulfilled=function(t,e){this.isResolved()||(this.result[e]=t,this.shouldUnwrapItems&&(this.items[e]=t),this.index===e&&this.iterate())},u.prototype._promiseRejected=function(t){this.reject(t)},u.prototype.reject=function(t){if(!this.isResolved()){var e=l(t)?t:new Error(t+"");this.promise._attachExtraTrace(e),this.promise._reject(t,e)}},u.prototype.iterate=function(){for(var t=this.index,e=this.items,n=this.result,r=e.length,n=this.result,i=this.receiver,o=this.callback;r>t;++t){var s=n[t];if(s===p)return void(this.index=t);try{n[t]=o.call(i,s,t,r)}catch(u){return this.reject(u)}}this.promise._follow(a(n)),this.items=this.result=this.callback=this.promise=null},e.prototype.map=function(t,e){return s(this,t,!0,e)},e.map=function(t,e,n){return s(t,e,!1,n)}}},{"./errors.js":10,"./util.js":38}],18:[function(t,e){"use strict";e.exports=function(e){function n(t){throw t}function r(t,e){var r=this,i=void 0===t?a(r,e,null):u(r,e,null,t);i===c&&s.invokeLater(n,void 0,i.e)}function i(t,e){var r=this,i=a(r,e,t);i===c&&s.invokeLater(n,void 0,i.e)}var o=t("./util.js"),s=t("./async.js"),u=o.tryCatch2,a=o.tryCatch1,c=o.errorObj;e.prototype.nodeify=function(t){return"function"==typeof t&&this._then(r,i,void 0,t,this._isBound()?this._boundTo:null),this}}},{"./async.js":3,"./util.js":38}],19:[function(t,e){"use strict";e.exports=function(e,n){var r=t("./util.js"),i=t("./async.js"),o=t("./errors.js"),s=r.tryCatch1,u=r.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[t+2-5]},e.prototype._doProgressWith=function(t){var n=t.value,r=t.handler,i=t.promise,a=t.receiver;this._pushContext();var c=s(r,a,n);if(this._popContext(),c===u){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var l=o.canAttach(c.e)?c.e:new Error(c.e+"");i._attachExtraTrace(l),i._progress(c.e)}}else c instanceof e?c._then(i._progress,null,null,i,void 0):i._progress(c)},e.prototype._progressUnchecked=function(t){if(this.isPending())for(var r=this._length(),o=this._progress,s=0;r>s;s+=5){var u=this._progressHandlerAt(s),a=this._promiseAt(s);if(a instanceof e)"function"==typeof u?i.invoke(this._doProgressWith,this,{handler:u,promise:a,receiver:this._receiverAt(s),value:t}):i.invoke(o,a,t);else{var c=this._receiverAt(s);"function"==typeof u?u.call(c,t,a):c instanceof e&&c._isProxied()?c._progressUnchecked(t):n(c,a)&&c._promiseProgressed(t,a)}}}}},{"./async.js":3,"./errors.js":10,"./util.js":38}],20:[function(t,e){(function(n){"use strict";e.exports=function(){function e(t){return void 0===t?!1:t instanceof i}function r(t,e){return t instanceof d?e>=0:!1}function i(t){if("function"!=typeof t)throw new k("the promise constructor requires a resolver function");if(this.constructor!==i)throw new k("the promise constructor cannot be invoked directly");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,t!==f&&this._resolveFromResolver(t)}function o(t,e){return s(t,d,e===!0&&t._isBound()?t._boundTo:void 0).promise()}function s(t,n,r){var o=null;return m(t)?o=t:(o=i._cast(t,void 0),o!==t?o._setBoundTo(r):e(o)||(o=null)),null!==o?new n(o,r):{promise:function(){return C("expecting an array, a promise or a thenable")}}}var u=t("./global.js"),a=t("./util.js"),c=t("./async.js"),l=t("./errors.js"),f=function(){},h={},p={e:null},d=t("./promise_array.js")(i,f),v=t("./captured_trace.js")(),_=t("./catch_filter.js")(p),y=t("./promise_resolver.js"),m=a.isArray,g=a.errorObj,b=a.tryCatch1,w=a.tryCatch2,j=a.tryCatchApply,E=l.RangeError,k=l.TypeError,T=l.CancellationError,x=l.TimeoutError,A=l.RejectionError,P=l.originatesFromRejection,F=l.markAsOriginatingFromRejection,R=l.canAttach,S=a.thrower,C=t("./errors_api_rejection")(i),O=function(){return new k("circular promise resolution chain")};i.prototype.bind=function(t){var e=new i(f);return e._setTrace(this),e._follow(this),e._setBoundTo(t),this._cancellable()&&(e._setCancellable(),e._cancellationParent=this),e},i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;e-1>n;++n){var o=arguments[n];if("function"!=typeof o){var s=new k("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(s),void c.invoke(this._reject,this,s)}r[i++]=o}r.length=i,t=arguments[n],this._resetTrace();var u=new _(r,t,this);return this._then(void 0,u.doFilter,void 0,u,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},i.prototype.then=function(t,e,n){return this._then(t,e,n,void 0,void 0)},i.prototype.done=function(t,e,n){var r=this._then(t,e,n,void 0,void 0);r._setIsFinal()},i.prototype.spread=function(t,e){return this._then(t,e,void 0,h,void 0)},i.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},i.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this._settledValue,t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this._settledValue,t.isRejected=!0),t},i.prototype.all=function(){return o(this,!0)},i.is=e,i.all=function(t){return o(t,!1)},i.join=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;++n)e[n]=arguments[n];return s(e,d,void 0).promise()},i.resolve=i.fulfilled=function(t){var e=new i(f);return e._setTrace(void 0),e._tryFollow(t)?e:(e._cleanValues(),e._setFulfilled(),e._settledValue=t,e)},i.reject=i.rejected=function(t){var e=new i(f);if(e._setTrace(void 0),F(t),e._cleanValues(),e._setRejected(),e._settledValue=t,!R(t)){var n=new Error(t+"");e._setCarriedStackTrace(n)}return e._ensurePossibleRejectionHandled(),e},i.prototype.error=function(t){return this.caught(P,t)},i.prototype._resolveFromSyncValue=function(t){if(t===g)this._cleanValues(),this._setRejected(),this._settledValue=t.e,this._ensurePossibleRejectionHandled();else{var e=i._cast(t,void 0);e instanceof i?this._follow(e):(this._cleanValues(),this._setFulfilled(),this._settledValue=t)}},i.method=function(t){if("function"!=typeof t)throw new k("fn must be a function");return function(){var e;switch(arguments.length){case 0:e=b(t,this,void 0);break;case 1:e=b(t,this,arguments[0]);break;case 2:e=w(t,this,arguments[0],arguments[1]);break;default:for(var n=arguments.length,r=new Array(n),o=0;n>o;++o)r[o]=arguments[o];e=j(t,r,this)}var s=new i(f);return s._setTrace(void 0),s._resolveFromSyncValue(e),s}},i.attempt=i["try"]=function(t,e,n){if("function"!=typeof t)return C("fn must be a function");var r=m(e)?j(t,e,n):b(t,n,e),o=new i(f);return o._setTrace(void 0),o._resolveFromSyncValue(r),o},i.defer=i.pending=function(){var t=new i(f);return t._setTrace(void 0),new y(t)},i.bind=function(t){var e=new i(f);return e._setTrace(void 0),e._setFulfilled(),e._setBoundTo(t),e},i.cast=function(t){var e=i._cast(t,void 0);return e instanceof i?e:i.resolve(e)},i.onPossiblyUnhandledRejection=function(t){v.possiblyUnhandledRejection="function"==typeof t?t:void 0};var B;i.onUnhandledRejectionHandled=function(t){B="function"==typeof t?t:void 0};var M=!1||!("undefined"==typeof n||"string"!=typeof n.execPath||"object"!=typeof n.env||!n.env.BLUEBIRD_DEBUG&&"development"!==n.env.NODE_ENV);i.longStackTraces=function(){if(c.haveItemsQueued()&&M===!1)throw new Error("cannot enable long stack traces after promises have been created");M=v.isSupported()},i.hasLongStackTraces=function(){return M&&v.isSupported()},i.prototype._setProxyHandlers=function(t,e){var n=this._length();if(n>=524282&&(n=0,this._setLength(0)),0===n)this._promise0=e,this._receiver0=t;else{var r=n-5;this[r+3]=e,this[r+4]=t,this[r+0]=this[r+1]=this[r+2]=void 0}this._setLength(n+5)},i.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},i.prototype._proxyPromise=function(t){t._setProxied(),this._setProxyHandlers(t,-1)},i.prototype._then=function(t,e,n,r,o){var s=void 0!==o,u=s?o:new i(f);if(M&&!s){var a=this._peekContext()===this._traceParent;u._traceParent=a?this._traceParent:this,u._setTrace(this)}!s&&this._isBound()&&u._setBoundTo(this._boundTo);var l=this._addCallbacks(t,e,n,u,r);return!s&&this._cancellable()&&(u._setCancellable(),u._cancellationParent=this),this.isResolved()&&c.invoke(this._queueSettleAt,this,l),u},i.prototype._length=function(){return 524287&this._bitField},i.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},i.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},i.prototype._setLength=function(t){this._bitField=-524288&this._bitField|524287&t},i.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},i.prototype._setRejected=function(){this._bitField=134217728|this._bitField},i.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},i.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},i.prototype._isFinal=function(){return(33554432&this._bitField)>0},i.prototype._cancellable=function(){return(67108864&this._bitField)>0},i.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},i.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},i.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},i.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},i.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},i.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},i.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},i.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},i.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},i.prototype._unsetCarriedStackTrace=function(){this._bitField=-1048577&this._bitField,this._fulfillmentHandler0=void 0},i.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},i.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},i.prototype._receiverAt=function(t){var e;return e=0===t?this._receiver0:this[t+4-5],this._isBound()&&void 0===e?this._boundTo:e},i.prototype._promiseAt=function(t){return 0===t?this._promise0:this[t+3-5]},i.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[t+0-5]},i.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[t+1-5]},i.prototype._unsetAt=function(t){0===t?(this._rejectionHandler0=this._progressHandler0=this._promise0=this._receiver0=void 0,this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0)):this[t-5+0]=this[t-5+1]=this[t-5+2]=this[t-5+3]=this[t-5+4]=void 0},i.prototype._resolveFromResolver=function(t){function e(t){r._tryFollow(t)||r._fulfill(t)}function n(t){var e=R(t)?t:new Error(t+"");r._attachExtraTrace(e),F(t),r._reject(t,e===t?void 0:e)}var r=this;this._setTrace(void 0),this._pushContext();var i=w(t,void 0,e,n);if(this._popContext(),void 0!==i&&i===g){var o=i.e,s=R(o)?o:new Error(o+"");r._reject(o,s)}},i.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=524282&&(o=0,this._setLength(0)),0===o)this._promise0=r,void 0!==i&&(this._receiver0=i),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=t),"function"==typeof e&&(this._rejectionHandler0=e),"function"==typeof n&&(this._progressHandler0=n);else{var s=o-5;this[s+3]=r,this[s+4]=i,this[s+0]="function"==typeof t?t:void 0,this[s+1]="function"==typeof e?e:void 0,this[s+2]="function"==typeof n?n:void 0}return this._setLength(o+5),o},i.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=8388608|this._bitField,this._boundTo=t):this._bitField=-8388609&this._bitField},i.prototype._isBound=function(){return 8388608===(8388608&this._bitField)},i.prototype._spreadSlowCase=function(t,e,n,r){var i=s(n,d,r).promise()._then(function(){return t.apply(r,arguments)},void 0,void 0,h,void 0);e._follow(i)},i.prototype._callSpread=function(t,n,r,o){var s=this._isBound()?this._boundTo:void 0;if(m(r))for(var u=0,a=r.length;a>u;++u)if(e(i._cast(r[u],void 0)))return void this._spreadSlowCase(t,n,r,s);return o&&n._pushContext(),j(t,r,s)},i.prototype._callHandler=function(t,e,n,r,i){var o;return e!==h||this.isRejected()?(i&&n._pushContext(),o=b(t,e,r)):o=this._callSpread(t,n,r,i),i&&n._popContext(),o},i.prototype._settlePromiseFromHandler=function(t,n,r,o){if(!e(o))return void t.call(n,r,o);var s=M,u=this._callHandler(t,n,o,r,s);if(!o._isFollowing())if(u===g||u===o||u===p){var a=u===o?O():u.e,c=R(a)?a:new Error(a+"");u!==p&&o._attachExtraTrace(c),o._rejectUnchecked(a,c)}else{var l=i._cast(u,o);if(e(l)){if(l.isRejected()&&!l._isCarryingStackTrace()&&!R(l._settledValue)){var c=new Error(l._settledValue+"");o._attachExtraTrace(c),l._setCarriedStackTrace(c)}o._follow(l),l._cancellable()&&(o._cancellationParent=l,o._setCancellable())}else o._fulfillUnchecked(u)}},i.prototype._follow=function(t){this._setFollowing(),t.isPending()?(t._cancellable()&&(this._cancellationParent=t,this._setCancellable()),t._proxyPromise(this)):t.isFulfilled()?this._fulfillUnchecked(t._settledValue):this._rejectUnchecked(t._settledValue,t._getCarriedStackTrace()),t._isRejectionUnhandled()&&t._unsetRejectionIsUnhandled(),M&&null==t._traceParent&&(t._traceParent=this)},i.prototype._tryFollow=function(t){if(this._isFollowingOrFulfilledOrRejected()||t===this)return!1;var n=i._cast(t,void 0);return e(n)?(this._follow(n),!0):!1},i.prototype._resetTrace=function(){M&&(this._trace=new v(void 0===this._peekContext()))},i.prototype._setTrace=function(t){if(M){var e=this._peekContext();this._traceParent=e;var n=void 0===e;this._trace=void 0!==t&&t._traceParent===e?t._trace:new v(n)}return this},i.prototype._attachExtraTrace=function(t){if(M){var e=this,n=t.stack;
n="string"==typeof n?n.split("\n"):[];for(var r=1;null!=e&&null!=e._trace;)n=v.combine(n,e._trace.stack.split("\n")),e=e._traceParent;var i=Error.stackTraceLimit+r,o=n.length;o>i&&(n.length=i),t.stack=n.length<=r?"(No stack trace)":n.join("\n")}},i.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},i.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},i.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},i.prototype._settlePromiseAt=function(t){var e=this.isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),n=this._settledValue,o=this._receiverAt(t),s=this._promiseAt(t);if("function"==typeof e)this._settlePromiseFromHandler(e,o,n,s);else{var u=!1,a=this.isFulfilled();void 0!==o&&(o instanceof i&&o._isProxied()?(o._unsetProxied(),a?o._fulfillUnchecked(n):o._rejectUnchecked(n,this._getCarriedStackTrace()),u=!0):r(o,s)&&(a?o._promiseFulfilled(n,s):o._promiseRejected(n,s),u=!0)),u||(a?s._fulfill(n):s._reject(n,this._getCarriedStackTrace()))}t>=256&&this._queueGC()},i.prototype._isProxied=function(){return 4194304===(4194304&this._bitField)},i.prototype._setProxied=function(){this._bitField=4194304|this._bitField},i.prototype._unsetProxied=function(){this._bitField=-4194305&this._bitField},i.prototype._isGcQueued=function(){return-1073741824===(-1073741824&this._bitField)},i.prototype._setGcQueued=function(){this._bitField=-1073741824|this._bitField},i.prototype._unsetGcQueued=function(){this._bitField=1073741823&this._bitField},i.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),c.invokeLater(this._gc,this,void 0))},i.prototype._gc=function(){var t=this._length();this._unsetAt(0);for(var e=0;t>e;e++)delete this[e];this._setLength(0),this._unsetGcQueued()},i.prototype._queueSettleAt=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),c.invoke(this._settlePromiseAt,this,t)},i.prototype._fulfillUnchecked=function(t){if(this.isPending()){if(t===this){var e=O();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._cleanValues(),this._setFulfilled(),this._settledValue=t;var n=this._length();n>0&&c.invoke(this._settlePromises,this,n)}},i.prototype._rejectUncheckedCheckError=function(t){var e=R(t)?t:new Error(t+"");this._rejectUnchecked(t,e===t?void 0:e)},i.prototype._rejectUnchecked=function(t,e){if(this.isPending()){if(t===this){var n=O();return this._attachExtraTrace(n),this._rejectUnchecked(n)}if(this._cleanValues(),this._setRejected(),this._settledValue=t,this._isFinal())return void c.invokeLater(S,void 0,void 0===e?t:e);var r=this._length();void 0!==e&&this._setCarriedStackTrace(e),r>0?c.invoke(this._rejectPromises,this,null):this._ensurePossibleRejectionHandled()}},i.prototype._rejectPromises=function(){this._settlePromises(),this._unsetCarriedStackTrace()},i.prototype._settlePromises=function(){for(var t=this._length(),e=0;t>e;e+=5)this._settlePromiseAt(e)},i.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),void 0!==v.possiblyUnhandledRejection&&c.invokeLater(this._notifyUnhandledRejection,this,void 0)},i.prototype._notifyUnhandledRejectionIsHandled=function(){"function"==typeof B&&c.invokeLater(B,void 0,this)},i.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue,e=this._getCarriedStackTrace();this._setUnhandledRejectionIsNotified(),void 0!==e&&(this._unsetCarriedStackTrace(),t=e),"function"==typeof v.possiblyUnhandledRejection&&v.possiblyUnhandledRejection(t,this)}};var U=[];i.prototype._peekContext=function(){var t=U.length-1;return t>=0?U[t]:void 0},i.prototype._pushContext=function(){M&&U.push(this)},i.prototype._popContext=function(){M&&U.pop()};var I=u.Promise;return i.noConflict=function(){return u.Promise===i&&(u.Promise=I),i},v.isSupported()||(i.longStackTraces=function(){},M=!1),i._makeSelfResolutionError=O,t("./finally.js")(i,p),t("./direct_resolve.js")(i),t("./thenables.js")(i,f),t("./synchronous_inspection.js")(i),i.RangeError=E,i.CancellationError=T,i.TimeoutError=x,i.TypeError=k,i.RejectionError=A,a.toFastProperties(i),a.toFastProperties(i.prototype),t("./timers.js")(i,f),t("./any.js")(i,s,d),t("./race.js")(i,f),t("./call_get.js")(i),t("./filter.js")(i,s,d,C),t("./generators.js")(i,C,f),t("./map.js")(i,d,f,C),t("./nodeify.js")(i),t("./promisify.js")(i,f),t("./props.js")(i,d),t("./reduce.js")(i,s,d,C,f),t("./settle.js")(i,s,d),t("./some.js")(i,s,d,C),t("./progress.js")(i,r),t("./cancel.js")(i,f),i.prototype=i.prototype,i}}).call(this,t("S:\\workspace\\promised-land\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js"))},{"./any.js":2,"./async.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./direct_resolve.js":9,"./errors.js":10,"./errors_api_rejection":11,"./filter.js":13,"./finally.js":14,"./generators.js":15,"./global.js":16,"./map.js":17,"./nodeify.js":18,"./progress.js":19,"./promise_array.js":21,"./promise_resolver.js":22,"./promisify.js":24,"./props.js":26,"./race.js":28,"./reduce.js":29,"./settle.js":31,"./some.js":33,"./synchronous_inspection.js":35,"./thenables.js":36,"./timers.js":37,"./util.js":38,"S:\\workspace\\promised-land\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js":39}],21:[function(t,e){"use strict";e.exports=function(e,n){function r(t){switch(t){case-1:return void 0;case-2:return[];case-3:return{}}}function i(t,r){var i=this._promise=new e(n),o=void 0;t instanceof e&&(o=t,t._cancellable()&&(i._setCancellable(),i._cancellationParent=t),t._isBound()&&i._setBoundTo(r)),i._setTrace(o),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var o=t("./errors.js").canAttach,s=t("./util.js"),u=t("./async.js"),a={}.hasOwnProperty,c=s.isArray;return i.PropertiesPromiseArray=function(){},i.prototype.length=function(){return this._length},i.prototype.promise=function(){return this._promise},i.prototype._init=function(t,n){var o=this._values;if(o instanceof e){if(!o.isFulfilled())return o.isPending()?void o._then(this._init,this._reject,void 0,this,n):(o._unsetRejectionIsUnhandled(),void this._reject(o._settledValue));if(o=o._settledValue,!c(o)){var s=new e.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(s)}this._values=o}if(0===o.length)return void this._resolve(r(n));var l,f=o.length,h=f;l=this instanceof i.PropertiesPromiseArray?this._values:new Array(f);for(var p=!1,d=0;f>d;++d){var v=o[d];if(void 0!==v||a.call(o,d)){var _=e._cast(v,void 0);_ instanceof e?_.isPending()?_._proxyPromiseArray(this,d):(_._unsetRejectionIsUnhandled(),p=!0):p=!0,l[d]=_}else h--}if(0===h)return void this._resolve(-2===n?l:r(n));if(this._values=l,this._length=h,p){var y=h===f?this._scanDirectValues:this._scanDirectValuesHoled;u.invoke(y,this,f)}},i.prototype._settlePromiseAt=function(t){var n=this._values[t];n instanceof e?n.isFulfilled()?this._promiseFulfilled(n._settledValue,t):n.isRejected()&&this._promiseRejected(n._settledValue,t):this._promiseFulfilled(n,t)},i.prototype._scanDirectValuesHoled=function(t){for(var e=0;t>e&&!this._isResolved();++e)a.call(this._values,e)&&this._settlePromiseAt(e)},i.prototype._scanDirectValues=function(t){for(var e=0;t>e&&!this._isResolved();++e)this._settlePromiseAt(e)},i.prototype._isResolved=function(){return null===this._values},i.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},i.prototype.__hardReject__=i.prototype._reject=function(t){this._values=null;var e=o(t)?t:new Error(t+"");this._promise._attachExtraTrace(e),this._promise._reject(t,e)},i.prototype._promiseProgressed=function(t,e){this._isResolved()||this._promise._progress({index:e,value:t})},i.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)}},i.prototype._promiseRejected=function(t){this._isResolved()||(this._totalResolved++,this._reject(t))},i}},{"./async.js":3,"./errors.js":10,"./util.js":38}],22:[function(t,e){"use strict";function n(t){return t instanceof Error&&p.getPrototypeOf(t)===Error.prototype}function r(t){var e;return e=n(t)?new l(t):t,a.markAsOriginatingFromRejection(e),e}function i(t){function e(e,n){if(null!==t){if(e){var i=r(u(e));t._attachExtraTrace(i),t._reject(i)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),a=1;o>a;++a)s[a-1]=arguments[a];t._fulfill(s)}else t._fulfill(n);t=null}}return e}var o,s=t("./util.js"),u=s.maybeWrapAsError,a=t("./errors.js"),c=a.TimeoutError,l=a.RejectionError,f=t("./async.js"),h=s.haveGetters,p=t("./es5.js");if(o=h?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=i(t),this.callback=this.asCallback},h){var d={get:function(){return i(this.promise)}};p.defineProperty(o.prototype,"asCallback",d),p.defineProperty(o.prototype,"callback",d)}o._nodebackForPromise=i,o.prototype.toString=function(){return"[object PromiseResolver]"},o.prototype.resolve=o.prototype.fulfill=function(t){var e=this.promise;e._tryFollow(t)||f.invoke(e._fulfill,e,t)},o.prototype.reject=function(t){var e=this.promise;a.markAsOriginatingFromRejection(t);var n=a.canAttach(t)?t:new Error(t+"");e._attachExtraTrace(n),f.invoke(e._reject,e,t),n!==t&&f.invoke(this._setCarriedStackTrace,this,n)},o.prototype.progress=function(t){f.invoke(this.promise._progress,this.promise,t)},o.prototype.cancel=function(){f.invoke(this.promise.cancel,this.promise,void 0)},o.prototype.timeout=function(){this.reject(new c("timeout"))},o.prototype.isResolved=function(){return this.promise.isResolved()},o.prototype.toJSON=function(){return this.promise.toJSON()},o.prototype._setCarriedStackTrace=function(t){this.promise.isRejected()&&this.promise._setCarriedStackTrace(t)},e.exports=o},{"./async.js":3,"./errors.js":10,"./es5.js":12,"./util.js":38}],23:[function(t,e){"use strict";e.exports=function(e,n){function r(t){for(var n=f,i=c,o=e,s=n.length,u=0;s>u;++u){var a=l(n[u],void 0,t);if(a===i)return o.reject(i.e);var h=o._cast(a,r,void 0);if(h instanceof o)return h}return null}function i(t,r){var i=this._promise=new e(n);i._setTrace(void 0),this._generatorFunction=t,this._receiver=r,this._generator=void 0}var o=t("./errors.js"),s=o.TypeError,u=t("./util.js"),a=u.isArray,c=u.errorObj,l=u.tryCatch1,f=[];return i.prototype.promise=function(){return this._promise},i.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},i.prototype._continue=function h(t){if(t===c){this._generator=void 0;var n=o.canAttach(t.e)?t.e:new Error(t.e+"");return this._promise._attachExtraTrace(n),void this._promise._reject(t.e,n)}var i=t.value;if(t.done===!0)this._generator=void 0,this._promise._tryFollow(i)||this._promise._fulfill(i);else{var u=e._cast(i,h,void 0);if(!(u instanceof e)&&(u=a(u)?e.all(u):r(u),null===u))return void this._throw(new s("A value was yielded that could not be treated as a promise"));u._then(this._next,this._throw,void 0,this,null)}},i.prototype._throw=function(t){o.canAttach(t)&&this._promise._attachExtraTrace(t),this._continue(l(this._generator["throw"],this._generator,t))},i.prototype._next=function(t){this._continue(l(this._generator.next,this._generator,t))},i.addYieldHandler=function(t){if("function"!=typeof t)throw new s("fn must be a function");f.push(t)},i}},{"./errors.js":10,"./util.js":38}],24:[function(t,e){"use strict";e.exports=function(e,n){function r(t){return t.__isPromisified__===!0}function i(t,e){var n=e+"Async"in t;return n?r(t[e+"Async"]):!1}function o(t){for(var e=0;e<t.length;e+=2){var n=t[e];if(j.test(n))for(var r=n.replace(j,""),i=0;i<t.length;i+=2)if(t[i]===r)throw new w("Cannot promisify an API that has normal methods with Async-suffix")}}function s(t){for(var e=[t],n=Math.max(0,t-1-5),r=t-1;r>=n;--r)r!==t&&e.push(r);for(var r=t+1;5>=r;++r)e.push(r);return e}function u(t){for(var e=new Array(t),n=0;n<e.length;++n)e[n]="_arg"+n;return e.join(", ")}function a(t){return"number"==typeof t.length?Math.max(Math.min(t.length,1024),0):0}function c(t){var e=/^[a-z$_][a-z$_0-9]*$/i;return e.test(t)?"."+t:"['"+t.replace(/(['\\])/g,"\\$1")+"']"}function l(t,r,i,o){function l(e){for(var n=new Array(e),i=0,o=n.length;o>i;++i)n[i]="arguments["+i+"]";var s=e>0?",":"";return"string"==typeof t&&r===p?"this"+c(t)+"("+n.join(",")+s+" fn);break;":(void 0===r?"callback("+n.join(",")+s+" fn);":"callback.call("+(r===p?"this":"receiver")+", "+n.join(",")+s+" fn);")+"break;"}function f(){for(var e="",n=0;n<d.length;++n)e+="case "+d[n]+":"+l(d[n]);return e+="default: var args = new Array(len + 1);var i = 0;for (var i = 0; i < len; ++i) {    args[i] = arguments[i];}args[i] = fn;"+("string"==typeof t?"this"+c(t)+".apply(":"callback.apply(")+(r===p?"this":"receiver")+", args); break;"}var h=Math.max(0,a(o)-1),d=s(h),v="string"==typeof i?i+"Async":"promisified";return new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","var ret = function "+v+"("+u(h)+') {"use strict";var len = arguments.length;var promise = new Promise(INTERNAL);promise._setTrace(void 0);var fn = nodebackForPromise(promise);try {switch(len) {'+f()+"}}catch(e){ var wrapped = maybeWrapAsError(e);promise._attachExtraTrace(wrapped);promise._reject(wrapped);}return promise;}; ret.__isPromisified__ = true; return ret;")(e,t,r,y,m,_,n)}function f(t,r){function i(){var i=r;r===p&&(i=this),"string"==typeof t&&(t=i[t]);var o=new e(n);o._setTrace(void 0);var s=_(o);try{t.apply(i,y(arguments,s))}catch(u){var a=m(u);o._attachExtraTrace(a),o._reject(a)}return o}return i.__isPromisified__=!0,i}function h(t,e,n){if(n){for(var r=E(t),i=0,o=r.length;o>i;i+=2){var s=r[i],u=r[i+1],a=s+"Async";t[a]=k(s,p,s,u)}return d.toFastProperties(t),t}return k(t,e,void 0,t)}var p={},d=t("./util.js"),v=t("./es5.js"),_=t("./promise_resolver.js")._nodebackForPromise,y=d.withAppended,m=d.maybeWrapAsError,g=d.canEvaluate,b=d.deprecated,w=t("./errors").TypeError,j=new RegExp("Async$"),E=function(){if(v.isES5){var t=Object.create,e=Object.getOwnPropertyDescriptor;return function(n){for(var s=[],u=t(null),a=n;null!==n;){for(var c=v.keys(n),l=0,f=c.length;f>l;++l){var h=c[l];if(!u[h]){u[h]=!0;var p=e(n,h);null==p||"function"!=typeof p.value||r(p.value)||i(a,h)||s.push(h,p.value)}}n=v.getPrototypeOf(n)}return o(s),s}}return function(t){var e=[];for(var n in t){var s=t[n];"function"!=typeof s||r(s)||i(t,n)||e.push(n,s)}return o(e),e}}(),k=g?l:f;e.promisify=function(t,e){if("object"==typeof t&&null!==t)return b("Promise.promisify for promisifying entire objects is deprecated. Use Promise.promisifyAll instead."),h(t,e,!0);if("function"!=typeof t)throw new w("fn must be a function");return r(t)?t:h(t,arguments.length<2?p:e,!1)},e.promisifyAll=function(t){if("function"!=typeof t&&"object"!=typeof t)throw new w("the target of promisifyAll must be an object or a function");return h(t,void 0,!0)}}},{"./errors":10,"./es5.js":12,"./promise_resolver.js":22,"./util.js":38}],25:[function(t,e){"use strict";e.exports=function(e,n){function r(t,e){for(var n=s.keys(t),r=new Array(n.length),i=0,o=r.length;o>i;++i)r[i]=t[n[i]];if(this.constructor$(r,e),!this._isResolved())for(var i=0,o=n.length;o>i;++i)r.push(n[i])}var i=t("./util.js"),o=i.inherits,s=t("./es5.js");return o(r,n),r.prototype._init=function(){this._init$(void 0,-3)},r.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){for(var r={},i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o];this._resolve(r)}}},r.prototype._promiseProgressed=function(t,e){this._isResolved()||this._promise._progress({key:this._values[e+this.length()],value:t})},n.PropertiesPromiseArray=r,r}},{"./es5.js":12,"./util.js":38}],26:[function(t,e){"use strict";e.exports=function(e,n){function r(t,n){var r,o=e._cast(t,void 0);return u(o)?(o instanceof e?r=o._then(e.props,void 0,void 0,void 0,void 0):(r=new i(o,n===!0&&o._isBound()?o._boundTo:void 0).promise(),n=!1),n===!0&&o._isBound()&&r._setBoundTo(o._boundTo),r):s("cannot await properties of a non-object")}var i=t("./properties_promise_array.js")(e,n),o=t("./util.js"),s=t("./errors_api_rejection")(e),u=o.isObject;e.prototype.props=function(){return r(this,!0)},e.props=function(t){return r(t,!1)}}},{"./errors_api_rejection":11,"./properties_promise_array.js":25,"./util.js":38}],27:[function(t,e){"use strict";function n(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e]}function r(t){return t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1}function i(t){return"number"!=typeof t?16:r(Math.min(Math.max(16,t),1073741824))}function o(t){this._capacity=i(t),this._length=0,this._front=0,this._makeCapacity()}o.prototype._willBeOverCapacity=function(t){return this._capacity<t},o.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},o.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},o.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},o.prototype.length=function(){return this._length},o.prototype._makeCapacity=function(){for(var t=this._capacity,e=0;t>e;++e)this[e]=void 0},o.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<3)},o.prototype._resizeTo=function(t){var e=this._front,r=this._capacity,i=new Array(r),o=this.length();if(n(this,0,i,0,r),this._capacity=t,this._makeCapacity(),this._front=0,r>=e+o)n(i,e,this,0,o);else{var s=o-(e+o&r-1);n(i,e,this,0,s),n(i,0,this,s,o-s)}},e.exports=o},{}],28:[function(t,e){"use strict";e.exports=function(e,n){function r(t,r){var a=e._cast(t,void 0);if(a instanceof e)return s(a);if(!o(t))return i("expecting an array, a promise or a thenable");var c=new e(n);c._setTrace(r),void 0!==r&&(r._isBound()&&c._setBoundTo(r._boundTo),r._cancellable()&&(c._setCancellable(),c._cancellationParent=r));for(var l=c._fulfill,f=c._reject,h=0,p=t.length;p>h;++h){var d=t[h];(void 0!==d||u.call(t,h))&&e.cast(d)._then(l,f,void 0,c,null)}return c}var i=t("./errors_api_rejection.js")(e),o=t("./util.js").isArray,s=function(t){return t.then(function(e){return r(e,t)})},u={}.hasOwnProperty;e.race=function(t){return r(t,void 0)},e.prototype.race=function(){return r(this,void 0)}}},{"./errors_api_rejection.js":11,"./util.js":38}],29:[function(t,e){"use strict";e.exports=function(t,e,n,r,i){function o(e,n,r,o,s){this.promise=new t(i),this.index=n,this.length=o.length,this.items=o,this.callback=e,this.receiver=s,this.accum=r}function s(t,e){var n=this,r=void 0;"function"!=typeof n&&(r=n.receiver,n=n.fn);var i=t.length,s=void 0,u=0;void 0!==e?(s=e,u=0):(u=1,i>0&&(s=t[0]));var a=u;if(a>=i)return s;var c=new o(n,a,s,t,r);return c.iterate(),c.promise}function u(t){var e=this.fn,n=this.initialValue;return s.call(e,t,n)}function a(t,e,n,r){return n._then(function(n){return c(t,e,n,r)},void 0,void 0,void 0,void 0)}function c(i,o,c,l){if("function"!=typeof o)return r("fn must be a function");if(l===!0&&i._isBound()&&(o={fn:o,receiver:i._boundTo}),void 0!==c){if(c instanceof t){if(!c.isFulfilled())return a(i,o,c,l);c=c._settledValue}return e(i,n,l===!0&&i._isBound()?i._boundTo:void 0).promise()._then(u,void 0,void 0,{fn:o,initialValue:c},void 0)}return e(i,n,l===!0&&i._isBound()?i._boundTo:void 0).promise()._then(s,void 0,void 0,o,void 0)}o.prototype.reject=function(t){this.promise._reject(t)},o.prototype.fulfill=function(t,e){this.accum=t,this.index=e+1,this.iterate()},o.prototype.iterate=function(){for(var e=this.index,n=this.length,r=this.items,i=this.accum,o=this.receiver,s=this.callback;n>e;++e)if(i=s.call(o,i,r[e],e,n),i=t._cast(i,void 0),i instanceof t)return void i._then(this.fulfill,this.reject,void 0,this,e);this.promise._fulfill(i)},t.reduce=function(t,e,n){return c(t,e,n,!1)},t.prototype.reduce=function(t,e){return c(this,t,e,!0)}}},{}],30:[function(t,e){(function(n){"use strict";var r,i=t("./global.js");if("undefined"!=typeof n&&null!==n&&"function"==typeof n.cwd&&"function"==typeof n.nextTick&&"string"==typeof n.version)r=function(t){n.nextTick(t)};else if("function"!=typeof i.MutationObserver&&"function"!=typeof i.WebkitMutationObserver&&"function"!=typeof i.WebKitMutationObserver||"undefined"==typeof document||"function"!=typeof document.createElement)if("function"==typeof i.postMessage&&"function"!=typeof i.importScripts&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener){var o="bluebird_message_key_"+Math.random();r=function(){function t(t){if(t.source===i&&t.data===o){var n=e;e=void 0,n()}}var e=void 0;return i.addEventListener("message",t,!1),function(t){e=t,i.postMessage(o,"*")}}()}else r="function"==typeof i.MessageChannel?function(){var t=void 0,e=new i.MessageChannel;return e.port1.onmessage=function(){var e=t;t=void 0,e()},function(n){t=n,e.port2.postMessage(null)}}():i.setTimeout?function(t){setTimeout(t,4)}:function(t){t()};else r=function(){var t=i.MutationObserver||i.WebkitMutationObserver||i.WebKitMutationObserver,e=document.createElement("div"),n=void 0,r=new t(function(){var t=n;n=void 0,t()});return r.observe(e,{attributes:!0}),function(t){n=t,e.setAttribute("class","foo")}}();e.exports=r}).call(this,t("S:\\workspace\\promised-land\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js"))},{"./global.js":16,"S:\\workspace\\promised-land\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js":39}],31:[function(t,e){"use strict";e.exports=function(e,n,r){function i(t,e){return n(t,o,e===!0&&t._isBound()?t._boundTo:void 0).promise()}var o=t("./settled_promise_array.js")(e,r);e.settle=function(t){return i(t,!1)},e.prototype.settle=function(){return i(this,!0)}}},{"./settled_promise_array.js":32}],32:[function(t,e){"use strict";e.exports=function(e,n){function r(t,e){this.constructor$(t,e)}var i=e.PromiseInspection,o=t("./util.js"),s=o.inherits;return s(r,n),r.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},r.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){var n=new i;n._bitField=268435456,n._settledValue=t,this._promiseResolved(e,n)}},r.prototype._promiseRejected=function(t,e){if(!this._isResolved()){var n=new i;n._bitField=134217728,n._settledValue=t,this._promiseResolved(e,n)}},r}},{"./util.js":38}],33:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t,e,r){if((0|e)!==e||0>e)return i("expecting a positive integer");var o=n(t,s,r===!0&&t._isBound()?t._boundTo:void 0),u=o.promise();return u.isRejected()?u:(o.setHowMany(e),o.init(),u)}var s=t("./some_promise_array.js")(r);e.some=function(t,e){return o(t,e,!1)},e.prototype.some=function(t){return o(this,t,!0)}}},{"./some_promise_array.js":34}],34:[function(t,e){"use strict";e.exports=function(e){function n(t,e){this.constructor$(t,e),this._howMany=0,this._unwrap=!1,this._initialized=!1}var r=t("./util.js"),i=t("./errors.js").RangeError,o=r.inherits,s=r.isArray;return o(n,e),n.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-2);var t=s(this._values);if(this._holes=t?this._values.length-this.length():0,!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()){var e="(Promise.some) input array contains less than "+this._howMany+" promises";this._reject(new i(e))}}},n.prototype.init=function(){this._initialized=!0,this._init()},n.prototype.setUnwrap=function(){this._unwrap=!0},n.prototype.howMany=function(){return this._howMany},n.prototype.setHowMany=function(t){this._isResolved()||(this._howMany=t)},n.prototype._promiseFulfilled=function(t){this._isResolved()||(this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values)))},n.prototype._promiseRejected=function(t){this._isResolved()||(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()&&this._reject(this._values.length===this.length()?[]:this._values.slice(this.length()+this._holes)))},n.prototype._fulfilled=function(){return this._totalResolved},n.prototype._rejected=function(){return this._values.length-this.length()-this._holes},n.prototype._addRejected=function(t){this._values.push(t)},n.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},n.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},n}},{"./errors.js":10,"./util.js":38}],35:[function(t,e){"use strict";e.exports=function(t){function e(t){void 0!==t?(this._bitField=t._bitField,this._settledValue=t.isResolved()?t._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}e.prototype.isFulfilled=t.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype.isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype.isPending=function(){return 0===(402653184&this._bitField)},e.prototype.value=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue},e.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise");return this._settledValue},e.prototype.isResolved=t.prototype.isResolved=function(){return(402653184&this._bitField)>0},t.prototype.inspect=function(){return new e(this)},t.PromiseInspection=e}},{}],36:[function(t,e){"use strict";e.exports=function(e,n){function r(t){try{return t.then}catch(e){return c.e=e,c}}function i(t,i){if(l(t)){if(t instanceof e)return t;if(o(t)){var u=new e(n);return u._setTrace(void 0),t._then(u._fulfillUnchecked,u._rejectUncheckedCheckError,u._progressUnchecked,u,null),u._setFollowing(),u}var f=r(t);if(f===c)return void 0!==i&&a(f.e)&&i._attachExtraTrace(f.e),e.reject(f.e);if("function"==typeof f)return s(t,f,i)}return t}function o(t){return f.call(t,"_promise0")}function s(t,n,r){function i(n){if(!c){if(c=!0,t===n){var i=e._makeSelfResolutionError();return void 0!==r&&r._attachExtraTrace(i),void u.promise._reject(i,void 0)}u.resolve(n)}}function o(t){if(!c){c=!0;var e=a(t)?t:new Error(t+"");void 0!==r&&r._attachExtraTrace(e),u.promise._reject(t,e)}}function s(t){if(!c){var e=u.promise;"function"==typeof e._progress&&e._progress(t)}}var u=e.defer(),c=!1;try{n.call(t,i,o,s)}catch(l){if(!c){c=!0;var f=a(l)?l:new Error(l+"");void 0!==r&&r._attachExtraTrace(f),u.promise._reject(l,f)}}return u.promise}var u=t("./util.js"),a=t("./errors.js").canAttach,c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;e._cast=i}},{"./errors.js":10,"./util.js":38}],37:[function(t,e){"use strict";var n=t("./global.js"),r=function(t,e){for(var r=arguments.length,i=new Array(r-2),o=2;r>o;++o)i[o-2]=arguments[o];n.setTimeout(function(){t.apply(void 0,i)},e)};e.exports=function(e,n){var i=(t("./util.js"),t("./errors.js")),o=(t("./errors_api_rejection")(e),e.TimeoutError),s=function(t,e,n){if(t.isPending()){"string"!=typeof e&&(e="operation timed out after "+n+" ms");var r=new o(e);i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._rejectUnchecked(r)}},u=function(t,e){e._fulfill(t)},a=e.delay=function(t,i){void 0===i&&(i=t,t=void 0),i=+i;var o=e._cast(t,void 0),s=new e(n);return o instanceof e?(o._isBound()&&s._setBoundTo(o._boundTo),o._cancellable()&&(s._setCancellable(),s._cancellationParent=o),s._setTrace(o),s._follow(o),s.then(function(t){return e.delay(t,i)})):(s._setTrace(void 0),r(u,i,t,s),s)};e.prototype.delay=function(t){return a(this,t)},e.prototype.timeout=function(t,i){t=+t;var o=new e(n);return o._setTrace(this),this._isBound()&&o._setBoundTo(this._boundTo),this._cancellable()&&(o._setCancellable(),o._cancellationParent=this),o._follow(this),r(s,t,o,i,t),o}}},{"./errors.js":10,"./errors_api_rejection":11,"./global.js":16,"./util.js":38}],38:[function(t,e,n){"use strict";function r(t){"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("Bluebird: "+t)}function i(t,e,n){try{return t.call(e,n)}catch(r){return g.e=r,g}}function o(t,e,n,r){try{return t.call(e,n,r)}catch(i){return g.e=i,g}}function s(t,e,n){try{return t.apply(n,e)}catch(r){return g.e=r,g}}function u(t){return"string"==typeof t?t:""+t}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function c(t){return!a(t)}function l(t){return a(t)?new Error(u(t)):t}function f(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function h(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return _.defineProperty(t,e,r),t}function p(t){throw t}function d(t){function e(){}return e.prototype=t,e}var v=t("./global.js"),_=t("./es5.js"),y=function(){try{var t={};return _.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(e){return!1}}(),m=function(){return"undefined"!=typeof window&&null!==window&&"undefined"!=typeof window.document&&"undefined"!=typeof navigator&&null!==navigator&&"string"==typeof navigator.appName&&window===v?!1:!0}(),g={e:{}},b=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},w=function(){return"string"!==this}.call("string"),j={thrower:p,isArray:_.isArray,haveGetters:y,notEnumerableProp:h,isPrimitive:a,isObject:c,canEvaluate:m,deprecated:r,errorObj:g,tryCatch1:i,tryCatch2:o,tryCatchApply:s,inherits:b,withAppended:f,asString:u,maybeWrapAsError:l,wrapsPrimitiveReceiver:w,toFastProperties:d};e.exports=j},{"./es5.js":12,"./global.js":16}],39:[function(t,e){function n(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.once=n,r.off=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],40:[function(e,n,r){(function(e){!function(e){function n(){this._events={},this._conf&&r.call(this,this._conf)}function r(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners&&(this._events.maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),this.wildcard&&(this.listenerTree={}))}function i(t){this._events={},this.newListener=!1,r.call(this,t)}function o(t,e,n,r){if(!n)return[];var i,s,u,a,c,l,f,h=[],p=e.length,d=e[r],v=e[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(i=0,s=n._listeners.length;s>i;i++)t&&t.push(n._listeners[i]);return[n]}if("*"===d||"**"===d||n[d]){if("*"===d){for(u in n)"_listeners"!==u&&n.hasOwnProperty(u)&&(h=h.concat(o(t,e,n[u],r+1)));return h}if("**"===d){f=r+1===p||r+2===p&&"*"===v,f&&n._listeners&&(h=h.concat(o(t,e,n,p)));for(u in n)"_listeners"!==u&&n.hasOwnProperty(u)&&("*"===u||"**"===u?(n[u]._listeners&&!f&&(h=h.concat(o(t,e,n[u],p))),h=h.concat(o(t,e,n[u],r))):h=h.concat(u===v?o(t,e,n[u],r+2):o(t,e,n[u],r)));
return h}h=h.concat(o(t,e,n[d],r+1))}if(a=n["*"],a&&o(t,e,a,r+1),c=n["**"])if(p>r){c._listeners&&o(t,e,c,p);for(u in c)"_listeners"!==u&&c.hasOwnProperty(u)&&(u===v?o(t,e,c[u],r+2):u===d?o(t,e,c[u],r+1):(l={},l[u]=c[u],o(t,e,{"**":l},r+1)))}else c._listeners?o(t,e,c,p):c["*"]&&c["*"]._listeners&&o(t,e,c["*"],p);return h}function s(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,r=t.length;r>n+1;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var i=this.listenerTree,o=t.shift();o;){if(i[o]||(i[o]={}),i=i[o],0===t.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,e];else if(u(i._listeners)&&(i._listeners.push(e),!i._listeners.warned)){var s=a;"undefined"!=typeof this._events.maxListeners&&(s=this._events.maxListeners),s>0&&i._listeners.length>s&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace())}}else i._listeners=e;return!0}o=t.shift()}return!0}var u=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=10;i.prototype.delimiter=".",i.prototype.setMaxListeners=function(t){this._events||n.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t},i.prototype.event="",i.prototype.once=function(t,e){return this.many(t,1,e),this},i.prototype.many=function(t,e,n){function r(){0===--e&&i.off(t,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(t,r),i},i.prototype.emit=function(){this._events||n.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var e=arguments.length,r=new Array(e-1),i=1;e>i;i++)r[i-1]=arguments[i];for(i=0,e=this._all.length;e>i;i++)this.event=t,this._all[i].apply(this,r)}if("error"===t&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var s;if(this.wildcard){s=[];var u="string"==typeof t?t.split(this.delimiter):t.slice();o.call(this,s,u,this.listenerTree,0)}else s=this._events[t];if("function"==typeof s){if(this.event=t,1===arguments.length)s.call(this);else if(arguments.length>1)switch(arguments.length){case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(var e=arguments.length,r=new Array(e-1),i=1;e>i;i++)r[i-1]=arguments[i];s.apply(this,r)}return!0}if(s){for(var e=arguments.length,r=new Array(e-1),i=1;e>i;i++)r[i-1]=arguments[i];for(var a=s.slice(),i=0,e=a.length;e>i;i++)this.event=t,a[i].apply(this,r);return a.length>0||this._all}return this._all},i.prototype.on=function(t,e){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");if(this._events||n.call(this),this.emit("newListener",t,e),this.wildcard)return s.call(this,t,e),this;if(this._events[t]){if("function"==typeof this._events[t])this._events[t]=[this._events[t],e];else if(u(this._events[t])&&(this._events[t].push(e),!this._events[t].warned)){var r=a;"undefined"!=typeof this._events.maxListeners&&(r=this._events.maxListeners),r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}}else this._events[t]=e;return this},i.prototype.onAny=function(t){if(this._all||(this._all=[]),"function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all.push(t),this},i.prototype.addListener=i.prototype.on,i.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof t?t.split(this.delimiter):t.slice();r=o.call(this,null,i,this.listenerTree,0)}else{if(!this._events[t])return this;n=this._events[t],r.push({_listeners:n})}for(var s=0;s<r.length;s++){var a=r[s];if(n=a._listeners,u(n)){for(var c=-1,l=0,f=n.length;f>l;l++)if(n[l]===e||n[l].listener&&n[l].listener===e||n[l]._origin&&n[l]._origin===e){c=l;break}if(0>c)continue;return this.wildcard?a._listeners.splice(c,1):this._events[t].splice(c,1),0===n.length&&(this.wildcard?delete a._listeners:delete this._events[t]),this}(n===e||n.listener&&n.listener===e||n._origin&&n._origin===e)&&(this.wildcard?delete a._listeners:delete this._events[t])}return this},i.prototype.offAny=function(t){var e,n=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,r=e.length;r>n;n++)if(t===e[n])return e.splice(n,1),this}else this._all=[];return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||n.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),r=o.call(this,null,e,this.listenerTree,0),i=0;i<r.length;i++){var s=r[i];s._listeners=null}else{if(!this._events[t])return this;this._events[t]=null}return this},i.prototype.listeners=function(t){if(this.wildcard){var e=[],r="string"==typeof t?t.split(this.delimiter):t.slice();return o.call(this,e,r,this.listenerTree,0),e}return this._events||n.call(this),this._events[t]||(this._events[t]=[]),u(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},i.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof t&&t.amd?t(function(){return i}):e.EventEmitter2=i}("undefined"!=typeof e&&"undefined"!=typeof e.title&&"undefined"!=typeof r?r:window)}).call(this,e("S:\\workspace\\promised-land\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js"))},{"S:\\workspace\\promised-land\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js":39}],41:[function(t,e){var n,r,i,o,s=[].slice;i=t("bluebird"),n=t("baconjs"),r=t("eventemitter2").EventEmitter2,o=function(){var t,e,u,a;return e=Object.create(r.prototype),e.constructor=o,r.call(e,{wildcard:!1}),a=Object.create(null),e.promise=function(t){return arguments.length&&null!==t?a[t]?a[t]:a[t]=new i(function(n,r){return e.once(t,function(t){return u(t,n,r)})}):i.reject(new TypeError("missing event argument"))},e.promiseAll=function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],i.all(t.map(function(t){return e.promise(t)}))},u=function(t,e,n){return t instanceof Error?n(t):e(t)},e.stream=function(t){return n.fromEventTarget(this,t)},t=e.emit,e.emit=function(n){var r;return a[n]||(r=arguments.length>2?Array.prototype.slice.call(arguments,1):arguments[1],a[n]=new i(u.bind(null,r))),t.apply(e,arguments)},e},e.exports=o(),e.exports.create=function(){return o()},e.exports.Promise=i,e.exports.Bacon=n},{baconjs:1,bluebird:4,eventemitter2:40}]},{},[41])(41)});